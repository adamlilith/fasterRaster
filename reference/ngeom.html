<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Number of geometries and subgeometries in a vector — ngeom,GVector-method • fasterRaster</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Number of geometries and subgeometries in a vector — ngeom,GVector-method"><meta name="description" content='GVectors represent two types of "geometries". In "singlepart" geometries, each point, set of connected line segments, or polygon is treated like its own feature and has its own row in an attribute table. For example, a province might be composed of islands. In this case, each island would be represented as its own feature and could have its own row in the attribute indicating, say, the name and area of each island.
In "multipart" geometries, features are collected together and thu manipulated as if they were a single feature and have a singe line in an attribute table. Each multipart feature can contain one or more singlepart features. For example, all of the islands comprising  province would be collated together and have a single row in the attribute table indicating the name of the province and the area of the entire province.
ngeom() returns the number of geometries. Singlepart features are treated as one geometry each, and multipart features are treated as one geometry each.
nsubgeom() Returns the number of subgeometries. Singlepart geometries each represent a single subgeometry. Multipart geometries represent one or more subgeometries. The number of subgeometries will thus always be the same as or more than the number of geometries.'><meta property="og:description" content='GVectors represent two types of "geometries". In "singlepart" geometries, each point, set of connected line segments, or polygon is treated like its own feature and has its own row in an attribute table. For example, a province might be composed of islands. In this case, each island would be represented as its own feature and could have its own row in the attribute indicating, say, the name and area of each island.
In "multipart" geometries, features are collected together and thu manipulated as if they were a single feature and have a singe line in an attribute table. Each multipart feature can contain one or more singlepart features. For example, all of the islands comprising  province would be collated together and have a single row in the attribute table indicating the name of the province and the area of the entire province.
ngeom() returns the number of geometries. Singlepart features are treated as one geometry each, and multipart features are treated as one geometry each.
nsubgeom() Returns the number of subgeometries. Singlepart geometries each represent a single subgeometry. Multipart geometries represent one or more subgeometries. The number of subgeometries will thus always be the same as or more than the number of geometries.'><meta property="og:image" content="/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">fasterRaster</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">8.3.0.7024</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/adamlilith/fasterRaster/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Number of geometries and subgeometries in a vector</h1>
      <small class="dont-index">Source: <a href="https://github.com/adamlilith/fasterRaster/blob/master/R/ngeom.r" class="external-link"><code>R/ngeom.r</code></a></small>
      <div class="d-none name"><code>ngeom.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>GVector</code>s represent two types of "geometries". In "singlepart" geometries, each point, set of connected line segments, or polygon is treated like its own feature and has its own row in an attribute table. For example, a province might be composed of islands. In this case, each island would be represented as its own feature and could have its own row in the attribute indicating, say, the name and area of each island.</p>
<p>In "multipart" geometries, features are collected together and thu manipulated as if they were a single feature and have a singe line in an attribute table. Each multipart feature can contain one or more singlepart features. For example, all of the islands comprising  province would be collated together and have a single row in the attribute table indicating the name of the province and the area of the entire province.</p>
<p><code>ngeom()</code> returns the number of geometries. Singlepart features are treated as one geometry each, and multipart features are treated as one geometry each.</p>
<p><code>nsubgeom()</code> Returns the number of subgeometries. Singlepart geometries each represent a single subgeometry. Multipart geometries represent one or more subgeometries. The number of subgeometries will thus always be the same as or more than the number of geometries.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S4 method for class 'GVector'</span></span>
<span><span class="fu">ngeom</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'GVector'</span></span>
<span><span class="fu">nsubgeom</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A <code>GVector</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An integer.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="dim.html">nrow()</a></code>, <code><a href="dim.html">dim()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="grassStarted.html">grassStarted</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Setup</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example data:</span></span></span>
<span class="r-in"><span><span class="va">madCoast4</span> <span class="op">&lt;-</span> <span class="fu"><a href="fastData.html">fastData</a></span><span class="op">(</span><span class="st">"madCoast4"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">madRivers</span> <span class="op">&lt;-</span> <span class="fu"><a href="fastData.html">fastData</a></span><span class="op">(</span><span class="st">"madRivers"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">madDypsis</span> <span class="op">&lt;-</span> <span class="fu"><a href="fastData.html">fastData</a></span><span class="op">(</span><span class="st">"madDypsis"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Convert sf vectors to GVectors:</span></span></span>
<span class="r-in"><span><span class="va">coast</span> <span class="op">&lt;-</span> <span class="fu"><a href="fast.html">fast</a></span><span class="op">(</span><span class="va">madCoast4</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">rivers</span> <span class="op">&lt;-</span> <span class="fu"><a href="fast.html">fast</a></span><span class="op">(</span><span class="va">madRivers</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dypsis</span> <span class="op">&lt;-</span> <span class="fu"><a href="fast.html">fast</a></span><span class="op">(</span><span class="va">madDypsis</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Geographic properties:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="ext.html">ext</a></span><span class="op">(</span><span class="va">rivers</span><span class="op">)</span> <span class="co"># extent</span></span></span>
<span class="r-in"><span><span class="fu"><a href="crs.html">crs</a></span><span class="op">(</span><span class="va">rivers</span><span class="op">)</span> <span class="co"># coordinate reference system</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Column names and data types:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="names.html">names</a></span><span class="op">(</span><span class="va">coast</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="datatype.html">datatype</a></span><span class="op">(</span><span class="va">coast</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Points, lines, or polygons?</span></span></span>
<span class="r-in"><span><span class="fu"><a href="geomtype.html">geomtype</a></span><span class="op">(</span><span class="va">dypsis</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="geomtype.html">geomtype</a></span><span class="op">(</span><span class="va">rivers</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="geomtype.html">geomtype</a></span><span class="op">(</span><span class="va">coast</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="geomtype.html">is.points</a></span><span class="op">(</span><span class="va">dypsis</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="geomtype.html">is.points</a></span><span class="op">(</span><span class="va">coast</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="geomtype.html">is.lines</a></span><span class="op">(</span><span class="va">rivers</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="geomtype.html">is.lines</a></span><span class="op">(</span><span class="va">dypsis</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="geomtype.html">is.polygons</a></span><span class="op">(</span><span class="va">coast</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="geomtype.html">is.polygons</a></span><span class="op">(</span><span class="va">dypsis</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Number of dimensions:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="topology-GSpatial-method.html">topology</a></span><span class="op">(</span><span class="va">rivers</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="is.2d.html">is.2d</a></span><span class="op">(</span><span class="va">rivers</span><span class="op">)</span> <span class="co"># 2-dimensional?</span></span></span>
<span class="r-in"><span><span class="fu"><a href="is.2d.html">is.3d</a></span><span class="op">(</span><span class="va">rivers</span><span class="op">)</span> <span class="co"># 3-dimensional?</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Just the data table:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="va">rivers</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="as.data.frame.html">as.data.table</a></span><span class="op">(</span><span class="va">rivers</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Top/bottom of the data table:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="head.html">head</a></span><span class="op">(</span><span class="va">rivers</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="head.html">tail</a></span><span class="op">(</span><span class="va">rivers</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Vector or table with just selected columns:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="names.html">names</a></span><span class="op">(</span><span class="va">rivers</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">rivers</span><span class="op">$</span><span class="va">NAME</span></span></span>
<span class="r-in"><span><span class="va">rivers</span><span class="op">[[</span><span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="st">"NAM"</span>, <span class="st">"NAME_0"</span><span class="op">)</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">rivers</span><span class="op">[[</span><span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">5</span><span class="op">)</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Select geometries/rows of the vector:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="dim.html">nrow</a></span><span class="op">(</span><span class="va">rivers</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">selected</span> <span class="op">&lt;-</span> <span class="va">rivers</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="fu"><a href="dim.html">nrow</a></span><span class="op">(</span><span class="va">selected</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Plot:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot.html">plot</a></span><span class="op">(</span><span class="va">coast</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot.html">plot</a></span><span class="op">(</span><span class="va">rivers</span>, col <span class="op">=</span> <span class="st">"blue"</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot.html">plot</a></span><span class="op">(</span><span class="va">selected</span>, col <span class="op">=</span> <span class="st">"red"</span>, lwd <span class="op">=</span> <span class="fl">2</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Vector math:</span></span></span>
<span class="r-in"><span><span class="va">hull</span> <span class="op">&lt;-</span> <span class="fu"><a href="convHull.html">convHull</a></span><span class="op">(</span><span class="va">dypsis</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">un</span> <span class="op">&lt;-</span> <span class="fu"><a href="union.html">union</a></span><span class="op">(</span><span class="va">coast</span>, <span class="va">hull</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sameAsUnion</span> <span class="op">&lt;-</span> <span class="va">coast</span> <span class="op">+</span> <span class="va">hull</span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot.html">plot</a></span><span class="op">(</span><span class="va">un</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot.html">plot</a></span><span class="op">(</span><span class="va">sameAsUnion</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">inter</span> <span class="op">&lt;-</span> <span class="fu"><a href="intersect.html">intersect</a></span><span class="op">(</span><span class="va">coast</span>, <span class="va">hull</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sameAsIntersect</span> <span class="op">&lt;-</span> <span class="va">coast</span> <span class="op">*</span> <span class="va">hull</span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot.html">plot</a></span><span class="op">(</span><span class="va">inter</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot.html">plot</a></span><span class="op">(</span><span class="va">sameAsIntersect</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">er</span> <span class="op">&lt;-</span> <span class="fu"><a href="erase.html">erase</a></span><span class="op">(</span><span class="va">coast</span>, <span class="va">hull</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sameAsErase</span> <span class="op">&lt;-</span> <span class="va">coast</span> <span class="op">-</span> <span class="va">hull</span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot.html">plot</a></span><span class="op">(</span><span class="va">er</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot.html">plot</a></span><span class="op">(</span><span class="va">sameAsErase</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">xr</span> <span class="op">&lt;-</span> <span class="fu"><a href="xor.html">xor</a></span><span class="op">(</span><span class="va">coast</span>, <span class="va">hull</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sameAsXor</span> <span class="op">&lt;-</span> <span class="va">coast</span> <span class="op">/</span> <span class="va">hull</span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot.html">plot</a></span><span class="op">(</span><span class="va">xr</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot.html">plot</a></span><span class="op">(</span><span class="va">sameAsXor</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Vector area and length:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="expanse.html">expanse</a></span><span class="op">(</span><span class="va">coast</span>, unit <span class="op">=</span> <span class="st">"km"</span><span class="op">)</span> <span class="co"># polygons areas</span></span></span>
<span class="r-in"><span><span class="fu"><a href="expanse.html">expanse</a></span><span class="op">(</span><span class="va">rivers</span>, unit <span class="op">=</span> <span class="st">"km"</span><span class="op">)</span> <span class="co"># river lengths</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Fill holes</span></span></span>
<span class="r-in"><span><span class="co"># First, we will make some holes by creating buffers around points, then</span></span></span>
<span class="r-in"><span><span class="co"># removing them from a polygons GVector.</span></span></span>
<span class="r-in"><span><span class="va">buffs</span> <span class="op">&lt;-</span> <span class="fu"><a href="buffer.html">buffer</a></span><span class="op">(</span><span class="va">dypsis</span>, <span class="fl">500</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">holes</span> <span class="op">&lt;-</span> <span class="va">coast</span> <span class="op">-</span> <span class="va">buffs</span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot.html">plot</a></span><span class="op">(</span><span class="va">holes</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">filled</span> <span class="op">&lt;-</span> <span class="fu"><a href="fillHoles.html">fillHoles</a></span><span class="op">(</span><span class="va">holes</span>, fail <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Adam B. Smith.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

