<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Get or set the column with category labels in a categorical raster — activeCat,GRaster-method • fasterRaster</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get or set the column with category labels in a categorical raster — activeCat,GRaster-method"><meta name="description" content='These functions return or set the column of the labels to be matched to each value in the raster of a categorical GRaster (see vignette("GRasters", package = "fasterRaster")). Important: Following terra::activeCat(), the first column in the "levels" table is ignored, so an "active category" value of 1 means the second column is used as labels, a value of 2 means the third is used, and so on.
activeCat() returns the column of the labels to be matched to each value in the raster for a single raster layer.
activeCats() does the same, but for all layers of a GRaster.
activeCat()&amp;lt;- sets the column to be used as category labels.

'><meta property="og:description" content='These functions return or set the column of the labels to be matched to each value in the raster of a categorical GRaster (see vignette("GRasters", package = "fasterRaster")). Important: Following terra::activeCat(), the first column in the "levels" table is ignored, so an "active category" value of 1 means the second column is used as labels, a value of 2 means the third is used, and so on.
activeCat() returns the column of the labels to be matched to each value in the raster for a single raster layer.
activeCats() does the same, but for all layers of a GRaster.
activeCat()&amp;lt;- sets the column to be used as category labels.

'><meta property="og:image" content="https://github.com/adamlilith/fasterRaster/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">fasterRaster</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">8.4.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/fasterRaster.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/GRasters.html">Types of GRasters</a></li>
    <li><a class="dropdown-item" href="../articles/faster_fasterRaster.html">Making fasterRaster faster</a></li>
    <li><a class="dropdown-item" href="../articles/three_d_objects.html">3-dimensional objects</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="nav-link" href="https://github.com/adamlilith/fasterRaster/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Get or set the column with category labels in a categorical raster</h1>
      <small class="dont-index">Source: <a href="https://github.com/adamlilith/fasterRaster/blob/master/R/activeCat.r"><code>R/activeCat.r</code></a></small>
      <div class="d-none name"><code>activeCat.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>These functions return or set the column of the labels to be matched to each value in the raster of a categorical <code>GRaster</code> (see <code><a href="../articles/GRasters.html">vignette("GRasters", package = "fasterRaster")</a></code>). <em>Important</em>: Following <code><a href="https://rspatial.github.io/terra/reference/activeCat.html" class="external-link">terra::activeCat()</a></code>, the first column in the "levels" table is ignored, so an "active category" value of 1 means the second column is used as labels, a value of 2 means the third is used, and so on.</p><ul><li><p><code>activeCat()</code> returns the column of the labels to be matched to each value in the raster for a single raster layer.</p></li>
<li><p><code>activeCats()</code> does the same, but for all layers of a <code>GRaster</code>.</p></li>
<li><p><code>activeCat()&lt;-</code> sets the column to be used as category labels.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S4 method for class 'GRaster'</span></span>
<span><span class="fu">activeCat</span><span class="op">(</span><span class="va">x</span>, layer <span class="op">=</span> <span class="fl">1</span>, names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'GRaster'</span></span>
<span><span class="fu">activeCats</span><span class="op">(</span><span class="va">x</span>, names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'GRaster'</span></span>
<span><span class="fu">activeCat</span><span class="op">(</span><span class="va">x</span>, layer <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S4 method for class 'GRaster'</span></span>
<span><span class="fu">activeCat</span><span class="op">(</span><span class="va">x</span>, layer <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S4 method for class 'GRaster'</span></span>
<span><span class="fu">activeCat</span><span class="op">(</span><span class="va">x</span>, layer <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A categorical <code>GRaster</code>.</p></dd>


<dt id="arg-layer">layer<a class="anchor" aria-label="anchor" href="#arg-layer"></a></dt>
<dd><p>Numeric, integer, logical, or character: Indicates for which layer(s) to get or set the active category column. This can be a number (the index of the raster(s)), a logical vector (<code>TRUE</code> ==&gt; get/set the active category column, <code>FALSE</code> ==&gt; leave as-is), or a character vector (names of layers).</p></dd>


<dt id="arg-names">names<a class="anchor" aria-label="anchor" href="#arg-names"></a></dt>
<dd><p>Logical: If <code>TRUE</code>, display the name(s) of the active column(s). If <code>FALSE</code> (default), report the index of the active column. Following <code><a href="https://rspatial.github.io/terra/reference/activeCat.html" class="external-link">terra::activeCat()</a></code>, the first column in the levels table is ignored. So, an active column of "1" means the second column is active. "2" means the third column is active, and so on.</p></dd>


<dt id="arg-value">value<a class="anchor" aria-label="anchor" href="#arg-value"></a></dt>
<dd><p>Numeric, integer, or character. Following <code><a href="https://rspatial.github.io/terra/reference/activeCat.html" class="external-link">terra::activeCat()</a></code>, the first column in each levels table is ignored. So, if you want the second column to be the category label, use 1. If you want the third column, use 2, and so on. You can also specify the active column by its column name (though this can't be the first column's name).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>activeCat()</code> returns an integer or character of the active column index or name. <code>activeCats()</code> returns a vector of indices or names. <code>activeCat()&lt;-</code> returns a <code>GRaster</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="grassStarted.html">grassStarted</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Setup</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/" class="external-link">terra</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example data: Land cover raster</span></span></span>
<span class="r-in"><span><span class="va">madCover</span> <span class="op">&lt;-</span> <span class="fu"><a href="fastData.html">fastData</a></span><span class="op">(</span><span class="st">"madCover"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Convert categorical SpatRaster to categorical GRaster:</span></span></span>
<span class="r-in"><span><span class="va">cover</span> <span class="op">&lt;-</span> <span class="fu"><a href="fast.html">fast</a></span><span class="op">(</span><span class="va">madCover</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### Properties of categorical rasters</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">cover</span> <span class="co"># note categories</span></span></span>
<span class="r-in"><span><span class="fu"><a href="is.int.html">is.factor</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span> <span class="co"># Is the raster categorical?</span></span></span>
<span class="r-in"><span><span class="fu"><a href="nlevels.html">nlevels</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span> <span class="co"># number of levels</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">levels</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span> <span class="co"># just the value and active column</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">cats</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span> <span class="co"># all columns</span></span></span>
<span class="r-in"><span><span class="fu"><a href="minmax.html">minmax</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span> <span class="co"># min/max values</span></span></span>
<span class="r-in"><span><span class="fu"><a href="minmax.html">minmax</a></span><span class="op">(</span><span class="va">cover</span>, levels <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="co"># min/max categories</span></span></span>
<span class="r-in"><span><span class="fu"><a href="catNames.html">catNames</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span> <span class="co"># column names of the levels table</span></span></span>
<span class="r-in"><span><span class="fu"><a href="missingCats.html">missingCats</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span> <span class="co"># categories in table with no values in raster</span></span></span>
<span class="r-in"><span><span class="fu"><a href="freq.html">freq</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span> <span class="co"># frequency of each category (number of cells)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="zonalGeog.html">zonalGeog</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span> <span class="co"># geometric statistics</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### Active column</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Which column sets the category labels?</span></span></span>
<span class="r-in"><span><span class="fu">activeCat</span><span class="op">(</span><span class="va">cover</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">activeCat</span><span class="op">(</span><span class="va">cover</span>, names <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">activeCats</span><span class="op">(</span><span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="va">cover</span>, <span class="va">cover</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Choose a different column for category labels:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">levels</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">activeCat</span><span class="op">(</span><span class="va">cover</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fl">2</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">levels</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### Managing levels tables</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Remove unused levels:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="nlevels.html">nlevels</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cover</span> <span class="op">&lt;-</span> <span class="fu"><a href="droplevels.html">droplevels</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="nlevels.html">nlevels</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Re-assign levels:</span></span></span>
<span class="r-in"><span><span class="va">value</span> <span class="op">&lt;-</span> <span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">30</span>, <span class="fl">40</span>, <span class="fl">50</span>, <span class="fl">120</span>, <span class="fl">130</span>, <span class="fl">140</span>, <span class="fl">170</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">label</span> <span class="op">&lt;-</span> <span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="st">"Cropland"</span>, <span class="st">"Cropland"</span>, <span class="st">"Forest"</span>, <span class="st">"Forest"</span>,</span></span>
<span class="r-in"><span> <span class="st">"Grassland"</span>, <span class="st">"Shrubland"</span>, <span class="st">"Herbaceous"</span>, <span class="st">"Flooded"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">newCats</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>value <span class="op">=</span> <span class="va">value</span>, label <span class="op">=</span> <span class="va">label</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">cover</span> <span class="op">&lt;-</span> <span class="fu"><a href="levels.html">categories</a></span><span class="op">(</span><span class="va">cover</span>, layer <span class="op">=</span> <span class="fl">1</span>, value <span class="op">=</span> <span class="va">newCats</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">cats</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># This is the same as:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">levels</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">newCats</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">cats</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Are there any values not assigned a category?</span></span></span>
<span class="r-in"><span><span class="fu"><a href="missingCats.html">missingCats</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Let's assign a category for value 210 (water):</span></span></span>
<span class="r-in"><span><span class="va">water</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>value <span class="op">=</span> <span class="fl">210</span>, label <span class="op">=</span> <span class="st">"Water"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="addCats.html">addCats</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">water</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">levels</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Add more information to the levels table using merge():</span></span></span>
<span class="r-in"><span><span class="va">landType</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>     Value <span class="op">=</span> <span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">30</span>, <span class="fl">40</span>, <span class="fl">50</span>, <span class="fl">120</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>     Type <span class="op">=</span> <span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="st">"Irrigated"</span>, <span class="st">"Rainfed"</span>, <span class="st">"Broadleaf evergreen"</span>,</span></span>
<span class="r-in"><span>     <span class="st">"Broadleaf deciduous"</span>, <span class="st">"Mosaic with forest"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">cats</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cover</span> <span class="op">&lt;-</span> <span class="fu"><a href="addCats.html">addCats</a></span><span class="op">(</span><span class="va">cover</span>, <span class="va">landType</span>, merge <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">cats</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### Logical operations on categorical rasters</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">cover</span> <span class="op">&lt;</span> <span class="st">"Forest"</span> <span class="co"># 1 for cells with a value &lt; 40, 0 otherwise</span></span></span>
<span class="r-in"><span><span class="va">cover</span> <span class="op">&lt;=</span> <span class="st">"Forest"</span> <span class="co"># 1 for cells with a value &lt; 120, 0 otherwise</span></span></span>
<span class="r-in"><span><span class="va">cover</span> <span class="op">==</span> <span class="st">"Forest"</span> <span class="co"># 1 for cells with value of 40-120, 0 otherwise</span></span></span>
<span class="r-in"><span><span class="va">cover</span> <span class="op">!=</span> <span class="st">"Forest"</span> <span class="co"># 1 for cells with value that is not 40-120, 0 otherwise</span></span></span>
<span class="r-in"><span><span class="va">cover</span> <span class="op">&gt;</span> <span class="st">"Forest"</span> <span class="co"># 1 for cells with a value &gt; 120, 0 otherwise</span></span></span>
<span class="r-in"><span><span class="va">cover</span> <span class="op">&gt;=</span> <span class="st">"Forest"</span> <span class="co"># 1 for cells with a value &gt;= 120, 0 otherwise</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">cover</span> <span class="op"><a href="match.html">%in%</a></span> <span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="st">"Cropland"</span>, <span class="st">"Forest"</span><span class="op">)</span> <span class="co"># 1 for cropland/forest cells, 0 otherwise</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### Combine categories from different rasters</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># For the example, will create a second categorical raster fromm elevation.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Divide elevation raster into "low/medium/high" levels:</span></span></span>
<span class="r-in"><span><span class="va">madElev</span> <span class="op">&lt;-</span> <span class="fu"><a href="fastData.html">fastData</a></span><span class="op">(</span><span class="st">"madElev"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">elev</span> <span class="op">&lt;-</span> <span class="fu"><a href="fast.html">fast</a></span><span class="op">(</span><span class="va">madElev</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">elev</span> <span class="op">&lt;-</span> <span class="fu"><a href="project.html">project</a></span><span class="op">(</span><span class="va">elev</span>, <span class="va">cover</span>, method <span class="op">=</span> <span class="st">"near"</span><span class="op">)</span> <span class="co"># convert to same CRS</span></span></span>
<span class="r-in"><span><span class="va">fun</span> <span class="op">&lt;-</span> <span class="st">"= if(madElev &lt; 100, 0, if(madElev &lt; 400, 1, 2))"</span></span></span>
<span class="r-in"><span><span class="va">elevCat</span> <span class="op">&lt;-</span> <span class="fu"><a href="app.html">app</a></span><span class="op">(</span><span class="va">elev</span>, <span class="va">fun</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">levs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>     value <span class="op">=</span> <span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>     elevation <span class="op">=</span> <span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="st">"low"</span>, <span class="st">"medium"</span>, <span class="st">"high"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">levels</a></span><span class="op">(</span><span class="va">elevCat</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">levs</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Combine levels:</span></span></span>
<span class="r-in"><span><span class="va">combined</span> <span class="op">&lt;-</span> <span class="fu"><a href="concats.html">concats</a></span><span class="op">(</span><span class="va">cover</span>, <span class="va">elevCat</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">combined</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">levels</a></span><span class="op">(</span><span class="va">combined</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Combine levels, treating value/NA combinations as new categories:</span></span></span>
<span class="r-in"><span><span class="va">combinedNA</span> <span class="op">&lt;-</span> <span class="fu"><a href="concats.html">concats</a></span><span class="op">(</span><span class="va">cover</span>, <span class="va">elevCat</span>, na.rm <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">combinedNA</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">levels</a></span><span class="op">(</span><span class="va">combinedNA</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Adam B. Smith.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

