<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Add rows or columns to the "levels" table of a categorical raster — addCats,GRaster-method • fasterRaster</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Add rows or columns to the " levels table of a categorical raster addcats><meta name="description" content="addCats() and addCats()&amp;lt;- add information to a categorical`GRaster's &quot;levels&quot; table.
addCats()` uses data.table::merge() or cbind() to do this–it does not add new rows, but rather new columns.
addCats()&amp;lt;- uses rbind() to add new categories (rows) to the &quot;levels&quot; table.


GRasters can represent [categorical data][tutorial_raster_data_types]. Cell values are actually integers, each corresponding to a category, such as &quot;desert&quot; or &quot;wetland.&quot; A categorical raster is associated with a &quot;levels&quot; table that matches each value to a category name. The table must be NULL` (i.e., no categories–so not a categorical raster), or have at least two columns. The first column must have integers and represent raster values. One or more subsequent columns must have category labels. The column with these labels is the &quot;active category&quot;."><meta property="og:description" content="addCats() and addCats()&amp;lt;- add information to a categorical`GRaster's &quot;levels&quot; table.
addCats()` uses data.table::merge() or cbind() to do this–it does not add new rows, but rather new columns.
addCats()&amp;lt;- uses rbind() to add new categories (rows) to the &quot;levels&quot; table.


GRasters can represent [categorical data][tutorial_raster_data_types]. Cell values are actually integers, each corresponding to a category, such as &quot;desert&quot; or &quot;wetland.&quot; A categorical raster is associated with a &quot;levels&quot; table that matches each value to a category name. The table must be NULL` (i.e., no categories–so not a categorical raster), or have at least two columns. The first column must have integers and represent raster values. One or more subsequent columns must have category labels. The column with these labels is the &quot;active category&quot;."><meta property="og:image" content="https://adamlilith.github.io/fasterRaster/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">fasterRaster</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">8.3.0.7023</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/adamlilith/fasterRaster/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Add rows or columns to the "levels" table of a categorical raster</h1>
      <small class="dont-index">Source: <a href="https://github.com/adamlilith/fasterRaster/blob/master/R/addCats.r" class="external-link"><code>R/addCats.r</code></a></small>
      <div class="d-none name"><code>addCats.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>addCats()</code> and <code>addCats()&lt;-</code> add information to a categorical`GRaster's "levels" table.</p><ul><li><p>addCats()` uses <code><a href="https://rdatatable.gitlab.io/data.table/reference/merge.html" class="external-link">data.table::merge()</a></code> or <code><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind()</a></code> to do this–it does not add new rows, but rather new columns.</p></li>
<li><p><code>addCats()&lt;-</code> uses <code><a href="rbind.html">rbind()</a></code> to add new categories (rows) to the "levels" table.</p></li>
</ul><p>GRaster<code>s can represent [categorical data][tutorial_raster_data_types]. Cell values are actually integers, each corresponding to a category, such as "desert" or "wetland." A categorical raster is associated with a "levels" table that matches each value to a category name. The table must be </code>NULL` (i.e., no categories–so not a categorical raster), or have at least two columns. The first column must have integers and represent raster values. One or more subsequent columns must have category labels. The column with these labels is the "active category".</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S4 method for class 'GRaster'</span></span>
<span><span class="fu">addCats</span><span class="op">(</span><span class="va">x</span>, <span class="va">value</span>, merge <span class="op">=</span> <span class="cn">FALSE</span>, layer <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'GRaster'</span></span>
<span><span class="fu">addCats</span><span class="op">(</span><span class="va">x</span>, layer <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A <code>GRaster</code>.</p></dd>


<dt id="arg-value">value<a class="anchor" aria-label="anchor" href="#arg-value"></a></dt>
<dd><p>A <code>data.frame</code>, <code>data.table</code>, a list of <code>data.frames</code> or <code>data.tables</code> with one per raster layer, or a categorical <code>SpatRaster</code>. The table's first column is the "value" column and must contain numeric values (of class <code>numeric</code> or <code>character</code>). If a <code>SpatRaster</code> is supplied, then its categories will be transferred to the <code>GRaster</code>.</p></dd>


<dt id="arg-merge">merge<a class="anchor" aria-label="anchor" href="#arg-merge"></a></dt>
<dd><p>Logical (function <code>addCats()</code>): If <code>FALSE</code> (default), columns will be combined with the existing "levels" table using <code><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind()</a></code>. If <code>TRUE</code>, they will be combined using <code><a href="https://rdatatable.gitlab.io/data.table/reference/merge.html" class="external-link">data.table::merge()</a></code>.</p></dd>


<dt id="arg-layer">layer<a class="anchor" aria-label="anchor" href="#arg-layer"></a></dt>
<dd><p>Numeric integers, logical vector, or character: Layer(s) to which to add or from which to drop levels.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>GRaster</code>. The "levels" table of the raster is modified.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://rspatial.github.io/terra/reference/factors.html" class="external-link">terra::addCats()</a></code>, <code><a href="combineCats.html">combineCats()</a></code>, <code><a href="combineLevels.html">combineLevels()</a></code>, <code><a href="droplevels.html">droplevels()</a></code>, <a href="tutorial_raster_data_types.html">categorical rasters</a> in <strong>fasterRaster</strong></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="grassStarted.html">grassStarted</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Setup</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/" class="external-link">terra</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example data: Land cover raster</span></span></span>
<span class="r-in"><span><span class="va">madCover</span> <span class="op">&lt;-</span> <span class="fu"><a href="fastData.html">fastData</a></span><span class="op">(</span><span class="st">"madCover"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Convert categorical SpatRaster to categorical GRaster:</span></span></span>
<span class="r-in"><span><span class="va">cover</span> <span class="op">&lt;-</span> <span class="fu"><a href="fast.html">fast</a></span><span class="op">(</span><span class="va">madCover</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### Properties of categorical rasters</span></span></span>
<span class="r-in"><span><span class="co">#####################################</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">cover</span> <span class="co"># note categories</span></span></span>
<span class="r-in"><span><span class="fu"><a href="is.int.html">is.factor</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span> <span class="co"># Is the raster categorical?</span></span></span>
<span class="r-in"><span><span class="fu"><a href="nlevels.html">nlevels</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span> <span class="co"># number of levels</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">levels</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span> <span class="co"># just the value and active column</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">cats</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span> <span class="co"># all columns</span></span></span>
<span class="r-in"><span><span class="fu"><a href="minmax.html">minmax</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span> <span class="co"># min/max values</span></span></span>
<span class="r-in"><span><span class="fu"><a href="minmax.html">minmax</a></span><span class="op">(</span><span class="va">cover</span>, levels <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="co"># min/max categories</span></span></span>
<span class="r-in"><span><span class="fu"><a href="catNames.html">catNames</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span> <span class="co"># column names of the levels table</span></span></span>
<span class="r-in"><span><span class="fu"><a href="missingCats.html">missingCats</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span> <span class="co"># categories in table with no values in raster</span></span></span>
<span class="r-in"><span><span class="fu"><a href="freq.html">freq</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span> <span class="co"># frequency of each category (number of cells)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="zonalGeog.html">zonalGeog</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span> <span class="co"># geometric statistics</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### Active column</span></span></span>
<span class="r-in"><span><span class="co">#################</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Which column sets the category labels?</span></span></span>
<span class="r-in"><span><span class="fu"><a href="activeCat.html">activeCat</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="activeCat.html">activeCat</a></span><span class="op">(</span><span class="va">cover</span>, names <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="activeCat.html">activeCats</a></span><span class="op">(</span><span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="va">cover</span>, <span class="va">cover</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Choose a different column for category labels:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">levels</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="activeCat.html">activeCat</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fl">2</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">levels</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### Managing levels tables</span></span></span>
<span class="r-in"><span><span class="co">##########################</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Remove unused levels:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="nlevels.html">nlevels</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cover</span> <span class="op">&lt;-</span> <span class="fu"><a href="droplevels.html">droplevels</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="nlevels.html">nlevels</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Re-assign levels:</span></span></span>
<span class="r-in"><span><span class="va">value</span> <span class="op">&lt;-</span> <span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">30</span>, <span class="fl">40</span>, <span class="fl">50</span>, <span class="fl">120</span>, <span class="fl">130</span>, <span class="fl">140</span>, <span class="fl">170</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">label</span> <span class="op">&lt;-</span> <span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="st">"Cropland"</span>, <span class="st">"Cropland"</span>, <span class="st">"Forest"</span>, <span class="st">"Forest"</span>,</span></span>
<span class="r-in"><span> <span class="st">"Grassland"</span>, <span class="st">"Shrubland"</span>, <span class="st">"Herbaceous"</span>, <span class="st">"Flooded"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">newCats</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>value <span class="op">=</span> <span class="va">value</span>, label <span class="op">=</span> <span class="va">label</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">cover</span> <span class="op">&lt;-</span> <span class="fu"><a href="levels.html">categories</a></span><span class="op">(</span><span class="va">cover</span>, layer <span class="op">=</span> <span class="fl">1</span>, value <span class="op">=</span> <span class="va">newCats</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">cats</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># This is the same as:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">levels</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">newCats</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">cats</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Are there any values not assigned a category?</span></span></span>
<span class="r-in"><span><span class="fu"><a href="missingCats.html">missingCats</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Let's assign a category for value 210 (water):</span></span></span>
<span class="r-in"><span><span class="va">water</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>value <span class="op">=</span> <span class="fl">210</span>, label <span class="op">=</span> <span class="st">"Water"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">addCats</span><span class="op">(</span><span class="va">cover</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">water</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">levels</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Add more information to the levels table using merge():</span></span></span>
<span class="r-in"><span><span class="va">landType</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>     Value <span class="op">=</span> <span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">30</span>, <span class="fl">40</span>, <span class="fl">50</span>, <span class="fl">120</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>     Type <span class="op">=</span> <span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="st">"Irrigated"</span>, <span class="st">"Rainfed"</span>, <span class="st">"Broadleaf evergreen"</span>,</span></span>
<span class="r-in"><span>     <span class="st">"Broadleaf deciduous"</span>, <span class="st">"Mosaic with forest"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">cats</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cover</span> <span class="op">&lt;-</span> <span class="fu">addCats</span><span class="op">(</span><span class="va">cover</span>, <span class="va">landType</span>, merge <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">cats</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### Logical operations on categorical rasters</span></span></span>
<span class="r-in"><span><span class="co">#############################################</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">cover</span> <span class="op">&lt;</span> <span class="st">"Forest"</span> <span class="co"># 1 for cells with a value &lt; 40, 0 otherwise</span></span></span>
<span class="r-in"><span><span class="va">cover</span> <span class="op">&lt;=</span> <span class="st">"Forest"</span> <span class="co"># 1 for cells with a value &lt; 120, 0 otherwise</span></span></span>
<span class="r-in"><span><span class="va">cover</span> <span class="op">==</span> <span class="st">"Forest"</span> <span class="co"># 1 for cells with value of 40-120, 0 otherwise</span></span></span>
<span class="r-in"><span><span class="va">cover</span> <span class="op">!=</span> <span class="st">"Forest"</span> <span class="co"># 1 for cells with value that is not 40-120, 0 otherwise</span></span></span>
<span class="r-in"><span><span class="va">cover</span> <span class="op">&gt;</span> <span class="st">"Forest"</span> <span class="co"># 1 for cells with a value &gt; 120, 0 otherwise</span></span></span>
<span class="r-in"><span><span class="va">cover</span> <span class="op">&gt;=</span> <span class="st">"Forest"</span> <span class="co"># 1 for cells with a value &gt;= 120, 0 otherwise</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">cover</span> <span class="op"><a href="match.html">%in%</a></span> <span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="st">"Cropland"</span>, <span class="st">"Forest"</span><span class="op">)</span> <span class="co"># 1 for cropland/forest cells, 0 otherwise</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### Combine categories from different rasters</span></span></span>
<span class="r-in"><span><span class="co">#############################################</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># NB We only have one categorical raster ships with fasterRaster, so we</span></span></span>
<span class="r-in"><span><span class="co"># will create a second one from the elevation raster.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Divide elevation raster into "low/medium/high" levels:</span></span></span>
<span class="r-in"><span><span class="va">madElev</span> <span class="op">&lt;-</span> <span class="fu"><a href="fastData.html">fastData</a></span><span class="op">(</span><span class="st">"madElev"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">elev</span> <span class="op">&lt;-</span> <span class="fu"><a href="fast.html">fast</a></span><span class="op">(</span><span class="va">madElev</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">elev</span> <span class="op">&lt;-</span> <span class="fu"><a href="project.html">project</a></span><span class="op">(</span><span class="va">elev</span>, <span class="va">cover</span>, method <span class="op">=</span> <span class="st">"near"</span><span class="op">)</span> <span class="co"># convert to same CRS</span></span></span>
<span class="r-in"><span><span class="va">fun</span> <span class="op">&lt;-</span> <span class="st">"= if(madElev &lt; 100, 0, if(madElev &lt; 400, 1, 2))"</span></span></span>
<span class="r-in"><span><span class="va">elevCat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rspatial.github.io/terra/reference/app.html" class="external-link">app</a></span><span class="op">(</span><span class="va">elev</span>, <span class="va">fun</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">levs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>     value <span class="op">=</span> <span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>     elevation <span class="op">=</span> <span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="st">"low"</span>, <span class="st">"medium"</span>, <span class="st">"high"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">levels</a></span><span class="op">(</span><span class="va">elevCat</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">levs</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Combine levels:</span></span></span>
<span class="r-in"><span><span class="va">combined</span> <span class="op">&lt;-</span> <span class="fu"><a href="combineCats.html">combineCats</a></span><span class="op">(</span><span class="va">cover</span>, <span class="va">elevCat</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">combined</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">levels</a></span><span class="op">(</span><span class="va">combined</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Combine levels, treating value/NA combinations as new categories:</span></span></span>
<span class="r-in"><span><span class="va">combinedNA</span> <span class="op">&lt;-</span> <span class="fu"><a href="combineCats.html">combineCats</a></span><span class="op">(</span><span class="va">cover</span>, <span class="va">elevCat</span>, na.rm <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">combinedNA</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">levels</a></span><span class="op">(</span><span class="va">combinedNA</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Adam B. Smith.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

