<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Locations/projects and mapsets — tutorial_locations_mapsets • fasterRaster</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Locations/projects and mapsets — tutorial_locations_mapsets"><meta name="description" content="GRASS GIS uses &quot;projects&quot; (previously called &quot;locations&quot;) and &quot;mapsets&quot; to store files (rasters, vectors, etc.). fasterRaster uses them, to, but invisibly to most users. Thus, this tutorial is mostly of interest to developers and other curious people.
GRASS locations/projects


Starting with GRASS
Upon starting, GRASS creates (or loads) a location, which corresponds to a folder on the user's system. Importantly, all rasters and vectors in a location must have the same coordinate reference system (CRS). Confusingly, rasters and vectors in the same GRASS location do not necessarily have to represent the same place on Earth. In general, rasters and vectors can only interact with one another if they are in the same location and mapset.  GRASS can only have a connection to a single location at a time.
fasterRaster handles projects and mapsets automatically, so users typically do not need to manage them. Projects are created on an as-needed basis. Within a given R session, if no projects have been made, calling fast() to create a GRaster or GVector will 1) make a connection to GRASS and 2) create a location with a CRS the same as the raster or vector. The raster or vector is then stored in this location. fast() starts the connection and creates the location using the exported by publicly undocumented function .locationCreate().
If fast() is called and a location already exists that has the same CRS as the raster or vector, one of two things will happen. First, if GRASS is already connected to that location, the raster or vector is simply imported. Second, if GRASS is not connected to the location that has the appropriate CRS, it will use .locationRestore() to connect to the proper one, then import the raster or vector.
Other functions might also cause GRASS to connect to a pre-existing location. Generally, if a function is applied to a GRaster or GVector, it will first check to see that GRASS is connected to the location in which the raster or vector is stored. If not, it will use .locationRestore() to do so first.
Creating a new location or switching connections to pre-existing locations adds a few seconds to processing time of rasters and vectors. To avoid this, users can work as much as possible on sets of rasters and vectors with the same CRS (i.e., the same location).



FasterRaster mapsets


GRAS &quot;mapsets&quot; are sub-folders within a location. Every location must have a mapset (and thus, a sub-folder) named &quot;PERMANENT&quot;. Users of Mapsets are intended to store sub-projects that use rasters and vectors with the same CRS. Users of GRASS can switch between mapsets. However, for ease-of-use and development, fasterRaster always uses the &quot;PERMANENT&quot; mapset within a given location.



Functions that manage locations and mapsets


These functions are exported but not publicly documented. You can, however, read the documentation by opening the development file (i.e., at the fasterRaster GitHub repository). All functions take &quot;x&quot; as an argument.
.location(x): Name of the location of x (a fasterRaster object), or the current location (if x is missing).
.locations(): Names and CRSs of all available locations (takes no arguments).
.locationCreate(x): Create a location with the same CRS as x.
.locationRestore(x): Connect to a pre-existing location. x can be a fasterRaster object, a SpatRaster, SpatVector, or sf object, or the name of a location.
.locationFind(x, return = &amp;lt;option&amp;gt;): Given a spatial object x, find the name, index, or CRS of a location that matches it. If x is missing, return a list of all locations. &amp;lt;option&amp;gt; can be &quot;name&quot; (name of the location), &quot;index&quot; (index), or &quot;crs&quot; (coordinate reference string in WKT format).
.ls(): List all file names of rasters and/or vectors in the current location.
.mapset(x): Name of the mapset that contains the object x.





More rabbit-holing


fasterRaster maintains a package-specific environment named .fasterRaster, where it keeps a list of locations at .fasterRaster$locations. This is a named list of locations, where each element is has the name of the location, and the value of the element is the location's CRS. The current location is tracked at .fasterRaster$activeLocation.

"><meta property="og:description" content="GRASS GIS uses &quot;projects&quot; (previously called &quot;locations&quot;) and &quot;mapsets&quot; to store files (rasters, vectors, etc.). fasterRaster uses them, to, but invisibly to most users. Thus, this tutorial is mostly of interest to developers and other curious people.
GRASS locations/projects


Starting with GRASS
Upon starting, GRASS creates (or loads) a location, which corresponds to a folder on the user's system. Importantly, all rasters and vectors in a location must have the same coordinate reference system (CRS). Confusingly, rasters and vectors in the same GRASS location do not necessarily have to represent the same place on Earth. In general, rasters and vectors can only interact with one another if they are in the same location and mapset.  GRASS can only have a connection to a single location at a time.
fasterRaster handles projects and mapsets automatically, so users typically do not need to manage them. Projects are created on an as-needed basis. Within a given R session, if no projects have been made, calling fast() to create a GRaster or GVector will 1) make a connection to GRASS and 2) create a location with a CRS the same as the raster or vector. The raster or vector is then stored in this location. fast() starts the connection and creates the location using the exported by publicly undocumented function .locationCreate().
If fast() is called and a location already exists that has the same CRS as the raster or vector, one of two things will happen. First, if GRASS is already connected to that location, the raster or vector is simply imported. Second, if GRASS is not connected to the location that has the appropriate CRS, it will use .locationRestore() to connect to the proper one, then import the raster or vector.
Other functions might also cause GRASS to connect to a pre-existing location. Generally, if a function is applied to a GRaster or GVector, it will first check to see that GRASS is connected to the location in which the raster or vector is stored. If not, it will use .locationRestore() to do so first.
Creating a new location or switching connections to pre-existing locations adds a few seconds to processing time of rasters and vectors. To avoid this, users can work as much as possible on sets of rasters and vectors with the same CRS (i.e., the same location).



FasterRaster mapsets


GRAS &quot;mapsets&quot; are sub-folders within a location. Every location must have a mapset (and thus, a sub-folder) named &quot;PERMANENT&quot;. Users of Mapsets are intended to store sub-projects that use rasters and vectors with the same CRS. Users of GRASS can switch between mapsets. However, for ease-of-use and development, fasterRaster always uses the &quot;PERMANENT&quot; mapset within a given location.



Functions that manage locations and mapsets


These functions are exported but not publicly documented. You can, however, read the documentation by opening the development file (i.e., at the fasterRaster GitHub repository). All functions take &quot;x&quot; as an argument.
.location(x): Name of the location of x (a fasterRaster object), or the current location (if x is missing).
.locations(): Names and CRSs of all available locations (takes no arguments).
.locationCreate(x): Create a location with the same CRS as x.
.locationRestore(x): Connect to a pre-existing location. x can be a fasterRaster object, a SpatRaster, SpatVector, or sf object, or the name of a location.
.locationFind(x, return = &amp;lt;option&amp;gt;): Given a spatial object x, find the name, index, or CRS of a location that matches it. If x is missing, return a list of all locations. &amp;lt;option&amp;gt; can be &quot;name&quot; (name of the location), &quot;index&quot; (index), or &quot;crs&quot; (coordinate reference string in WKT format).
.ls(): List all file names of rasters and/or vectors in the current location.
.mapset(x): Name of the mapset that contains the object x.





More rabbit-holing


fasterRaster maintains a package-specific environment named .fasterRaster, where it keeps a list of locations at .fasterRaster$locations. This is a named list of locations, where each element is has the name of the location, and the value of the element is the location's CRS. The current location is tracked at .fasterRaster$activeLocation.

"><meta property="og:image" content="/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">fasterRaster</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">8.3.0.7024</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/adamlilith/fasterRaster/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Locations/projects and mapsets</h1>
      <small class="dont-index">Source: <a href="https://github.com/adamlilith/fasterRaster/blob/master/R/tutorial_locations_mapsets.r" class="external-link"><code>R/tutorial_locations_mapsets.r</code></a></small>
      <div class="d-none name"><code>tutorial_locations_mapsets.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><strong>GRASS GIS</strong> uses "projects" (previously called "locations") and "mapsets" to store files (rasters, vectors, etc.). <strong>fasterRaster</strong> uses them, to, but invisibly to most users. Thus, this tutorial is mostly of interest to developers and other curious people.</p><div class="section">
<h3 id="grass-locations-projects"><strong>GRASS</strong> locations/projects<a class="anchor" aria-label="anchor" href="#grass-locations-projects"></a></h3>


<p>Starting with <strong>GRASS</strong></p>
<p>Upon starting, <strong>GRASS</strong> creates (or loads) a location, which corresponds to a folder on the user's system. Importantly, all rasters and vectors in a location must have the same coordinate reference system (CRS). Confusingly, rasters and vectors in the same <strong>GRASS</strong> location do not necessarily have to represent the same place on Earth. In general, rasters and vectors can only interact with one another if they are in the same location and mapset.  <strong>GRASS</strong> can only have a connection to a single location at a time.</p>
<p><strong>fasterRaster</strong> handles projects and mapsets automatically, so users typically do not need to manage them. Projects are created on an as-needed basis. Within a given <strong>R</strong> session, if no projects have been made, calling <code><a href="fast.html">fast()</a></code> to create a <code>GRaster</code> or <code>GVector</code> will 1) make a connection to <strong>GRASS</strong> and 2) create a location with a CRS the same as the raster or vector. The raster or vector is then stored in this location. <code><a href="fast.html">fast()</a></code> starts the connection and creates the location using the exported by publicly undocumented function <code><a href="locationCreate.html">.locationCreate()</a></code>.</p>
<p>If <code><a href="fast.html">fast()</a></code> is called and a location already exists that has the same CRS as the raster or vector, one of two things will happen. First, if <strong>GRASS</strong> is already connected to that location, the raster or vector is simply imported. Second, if <strong>GRASS</strong> is not connected to the location that has the appropriate CRS, it will use <code><a href="locationRestore.html">.locationRestore()</a></code> to connect to the proper one, then import the raster or vector.</p>
<p>Other functions might also cause <strong>GRASS</strong> to connect to a pre-existing location. Generally, if a function is applied to a <code>GRaster</code> or <code>GVector</code>, it will first check to see that <strong>GRASS</strong> is connected to the location in which the raster or vector is stored. If not, it will use <code><a href="locationRestore.html">.locationRestore()</a></code> to do so first.</p>
<p>Creating a new location or switching connections to pre-existing locations adds a few seconds to processing time of rasters and vectors. To avoid this, users can work as much as possible on sets of rasters and vectors with the same CRS (i.e., the same location).</p>
</div>

<div class="section">
<h3 id="fasterraster-mapsets"><strong>FasterRaster</strong> mapsets<a class="anchor" aria-label="anchor" href="#fasterraster-mapsets"></a></h3>


<p><strong>GRAS</strong> "mapsets" are sub-folders within a location. Every location <em>must</em> have a mapset (and thus, a sub-folder) named "PERMANENT". Users of Mapsets are intended to store sub-projects that use rasters and vectors with the same CRS. Users of <strong>GRASS</strong> can switch between mapsets. However, for ease-of-use and development, <strong>fasterRaster</strong> always uses the "PERMANENT" mapset within a given location.</p>
</div>

<div class="section">
<h3 id="functions-that-manage-locations-and-mapsets">Functions that manage locations and mapsets<a class="anchor" aria-label="anchor" href="#functions-that-manage-locations-and-mapsets"></a></h3>


<p>These functions are exported but not publicly documented. You can, however, read the documentation by opening the development file (i.e., at the <strong>fasterRaster</strong> GitHub <a href="https://github.com/adamlilith/fasterRaster" class="external-link">repository</a>). All functions take "<code>x</code>" as an argument.</p><ul><li><p><code>.location(x)</code>: Name of the location of <code>x</code> (a <strong>fasterRaster</strong> object), or the current location (if <code>x</code> is missing).</p></li>
<li><p><code><a href="locations.html">.locations()</a></code>: Names and CRSs of all available locations (takes no arguments).</p></li>
<li><p><code>.locationCreate(x)</code>: Create a location with the same CRS as <code>x</code>.</p></li>
<li><p><code>.locationRestore(x)</code>: Connect to a pre-existing location. <code>x</code> can be a <strong>fasterRaster</strong> object, a <code>SpatRaster</code>, <code>SpatVector</code>, or <code>sf</code> object, or the name of a location.</p></li>
<li><p><code>.locationFind(x, return = &lt;option&gt;)</code>: Given a spatial object <code>x</code>, find the name, index, or CRS of a location that matches it. If <code>x</code> is missing, return a list of all locations. <code>&lt;option&gt;</code> can be <code>"name"</code> (name of the location), <code>"index"</code> (index), or "<code>crs</code>" (coordinate reference string in WKT format).</p></li>
<li><p><code><a href="ls.html">.ls()</a></code>: List all file names of rasters and/or vectors in the current location.</p></li>
<li><p><code>.mapset(x)</code>: Name of the mapset that contains the object <code>x</code>.</p></li>
</ul></div>

<div class="section">
<h3 id="more-rabbit-holing">More rabbit-holing<a class="anchor" aria-label="anchor" href="#more-rabbit-holing"></a></h3>


<p><strong>fasterRaster</strong> maintains a package-specific environment named <code>.fasterRaster</code>, where it keeps a list of locations at <code>.fasterRaster$locations</code>. This is a named list of locations, where each element is has the name of the location, and the value of the element is the location's CRS. The current location is tracked at <code>.fasterRaster$activeLocation</code>.</p>
</div>

    </div>



    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="grassStarted.html">grassStarted</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Setup</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/" class="external-link">terra</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example data</span></span></span>
<span class="r-in"><span><span class="va">madElev</span> <span class="op">&lt;-</span> <span class="fu"><a href="fastData.html">fastData</a></span><span class="op">(</span><span class="st">"madElev"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">madForest2000</span> <span class="op">&lt;-</span> <span class="fu"><a href="fastData.html">fastData</a></span><span class="op">(</span><span class="st">"madForest2000"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">madCoast0</span> <span class="op">&lt;-</span> <span class="fu"><a href="fastData.html">fastData</a></span><span class="op">(</span><span class="st">"madCoast0"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">madRivers</span> <span class="op">&lt;-</span> <span class="fu"><a href="fastData.html">fastData</a></span><span class="op">(</span><span class="st">"madRivers"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">madDypsis</span> <span class="op">&lt;-</span> <span class="fu"><a href="fastData.html">fastData</a></span><span class="op">(</span><span class="st">"madDypsis"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### GRaster properties</span></span></span>
<span class="r-in"><span><span class="co">######################</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># convert SpatRasters to GRasters</span></span></span>
<span class="r-in"><span><span class="va">elev</span> <span class="op">&lt;-</span> <span class="fu"><a href="fast.html">fast</a></span><span class="op">(</span><span class="va">madElev</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">forest</span> <span class="op">&lt;-</span> <span class="fu"><a href="fast.html">fast</a></span><span class="op">(</span><span class="va">madForest2000</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># plot</span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot.html">plot</a></span><span class="op">(</span><span class="va">elev</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="dim.html">dim</a></span><span class="op">(</span><span class="va">elev</span><span class="op">)</span> <span class="co"># rows, columns, depths, layers</span></span></span>
<span class="r-in"><span><span class="fu"><a href="dim.html">nrow</a></span><span class="op">(</span><span class="va">elev</span><span class="op">)</span> <span class="co"># rows</span></span></span>
<span class="r-in"><span><span class="fu"><a href="dim.html">ncol</a></span><span class="op">(</span><span class="va">elev</span><span class="op">)</span> <span class="co"># columns</span></span></span>
<span class="r-in"><span><span class="fu"><a href="dim.html">ndepth</a></span><span class="op">(</span><span class="va">elev</span><span class="op">)</span> <span class="co"># depths</span></span></span>
<span class="r-in"><span><span class="fu"><a href="dim.html">nlyr</a></span><span class="op">(</span><span class="va">elev</span><span class="op">)</span> <span class="co"># layers</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="res.html">res</a></span><span class="op">(</span><span class="va">elev</span><span class="op">)</span> <span class="co"># resolution</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="dim.html">ncell</a></span><span class="op">(</span><span class="va">elev</span><span class="op">)</span> <span class="co"># cells</span></span></span>
<span class="r-in"><span><span class="fu"><a href="dim.html">ncell3d</a></span><span class="op">(</span><span class="va">elev</span><span class="op">)</span> <span class="co"># cells (3D rasters only)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="topology-GSpatial-method.html">topology</a></span><span class="op">(</span><span class="va">elev</span><span class="op">)</span> <span class="co"># number of dimensions</span></span></span>
<span class="r-in"><span><span class="fu"><a href="is.2d.html">is.2d</a></span><span class="op">(</span><span class="va">elev</span><span class="op">)</span> <span class="co"># is it 2D?</span></span></span>
<span class="r-in"><span><span class="fu"><a href="is.2d.html">is.3d</a></span><span class="op">(</span><span class="va">elev</span><span class="op">)</span> <span class="co"># is it 3D?</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="minmax.html">minmax</a></span><span class="op">(</span><span class="va">elev</span><span class="op">)</span> <span class="co"># min/max values</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># name of object in GRASS</span></span></span>
<span class="r-in"><span><span class="fu"><a href="sources.html">sources</a></span><span class="op">(</span><span class="va">elev</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># "names" of the object</span></span></span>
<span class="r-in"><span><span class="fu"><a href="names.html">names</a></span><span class="op">(</span><span class="va">elev</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># coordinate reference system</span></span></span>
<span class="r-in"><span><span class="fu"><a href="crs.html">crs</a></span><span class="op">(</span><span class="va">elev</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># extent (bounding box)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="ext.html">ext</a></span><span class="op">(</span><span class="va">elev</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># data type</span></span></span>
<span class="r-in"><span><span class="fu"><a href="datatype.html">datatype</a></span><span class="op">(</span><span class="va">elev</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># assigning</span></span></span>
<span class="r-in"><span><span class="va">copy</span> <span class="op">&lt;-</span> <span class="va">elev</span></span></span>
<span class="r-in"><span><span class="va">copy</span><span class="op">[</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">pi</span> <span class="co"># assign all cells to the value of pi</span></span></span>
<span class="r-in"><span><span class="va">copy</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># concatenating multiple GRasters</span></span></span>
<span class="r-in"><span><span class="va">rasts</span> <span class="op">&lt;-</span> <span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="va">elev</span>, <span class="va">forest</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">rasts</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># adding a raster "in place"</span></span></span>
<span class="r-in"><span><span class="fu">add</span><span class="op">(</span><span class="va">rasts</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="math.html">ln</a></span><span class="op">(</span><span class="va">elev</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">rasts</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># subsetting</span></span></span>
<span class="r-in"><span><span class="va">rasts</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">rasts</span><span class="op">[[</span><span class="st">"madForest2000"</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># assigning</span></span></span>
<span class="r-in"><span><span class="va">rasts</span><span class="op">[[</span><span class="fl">4</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">elev</span> <span class="op">&gt;</span> <span class="fl">500</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># number of layers</span></span></span>
<span class="r-in"><span><span class="fu"><a href="dim.html">nlyr</a></span><span class="op">(</span><span class="va">rasts</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># names</span></span></span>
<span class="r-in"><span><span class="fu"><a href="names.html">names</a></span><span class="op">(</span><span class="va">rasts</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="names.html">names</a></span><span class="op">(</span><span class="va">rasts</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="st">"elev_meters"</span>, <span class="st">"forest"</span>, <span class="st">"ln_elev"</span>, <span class="st">"high_elevation"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">rasts</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### GVector properties</span></span></span>
<span class="r-in"><span><span class="co">######################</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># convert sf vectors to GVectors</span></span></span>
<span class="r-in"><span><span class="va">coast</span> <span class="op">&lt;-</span> <span class="fu"><a href="fast.html">fast</a></span><span class="op">(</span><span class="va">madCoast4</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">rivers</span> <span class="op">&lt;-</span> <span class="fu"><a href="fast.html">fast</a></span><span class="op">(</span><span class="va">madRivers</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dypsis</span> <span class="op">&lt;-</span> <span class="fu"><a href="fast.html">fast</a></span><span class="op">(</span><span class="va">madDypsis</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># extent</span></span></span>
<span class="r-in"><span><span class="fu"><a href="ext.html">ext</a></span><span class="op">(</span><span class="va">rivers</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="ext.html">W</a></span><span class="op">(</span><span class="va">rivers</span><span class="op">)</span> <span class="co"># western extent</span></span></span>
<span class="r-in"><span><span class="fu"><a href="ext.html">E</a></span><span class="op">(</span><span class="va">rivers</span><span class="op">)</span> <span class="co"># eastern extent</span></span></span>
<span class="r-in"><span><span class="fu"><a href="ext.html">S</a></span><span class="op">(</span><span class="va">rivers</span><span class="op">)</span> <span class="co"># southern extent</span></span></span>
<span class="r-in"><span><span class="fu"><a href="ext.html">N</a></span><span class="op">(</span><span class="va">rivers</span><span class="op">)</span> <span class="co"># northern extent</span></span></span>
<span class="r-in"><span><span class="fu"><a href="ext.html">top</a></span><span class="op">(</span><span class="va">rivers</span><span class="op">)</span> <span class="co"># top extent (NA for 2D rasters like this one)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="ext.html">bottom</a></span><span class="op">(</span><span class="va">rivers</span><span class="op">)</span> <span class="co"># bottom extent (NA for 2D rasters like this one)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># coordinate reference system</span></span></span>
<span class="r-in"><span><span class="fu"><a href="crs.html">crs</a></span><span class="op">(</span><span class="va">rivers</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="crs.html">st_crs</a></span><span class="op">(</span><span class="va">rivers</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># column names and data types</span></span></span>
<span class="r-in"><span><span class="fu"><a href="names.html">names</a></span><span class="op">(</span><span class="va">coast</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="datatype.html">datatype</a></span><span class="op">(</span><span class="va">coast</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># name of object in GRASS</span></span></span>
<span class="r-in"><span><span class="fu"><a href="sources.html">sources</a></span><span class="op">(</span><span class="va">rivers</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># points, lines, or polygons?</span></span></span>
<span class="r-in"><span><span class="fu"><a href="geomtype.html">geomtype</a></span><span class="op">(</span><span class="va">dypsis</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="geomtype.html">geomtype</a></span><span class="op">(</span><span class="va">rivers</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="geomtype.html">geomtype</a></span><span class="op">(</span><span class="va">coast</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="geomtype.html">is.points</a></span><span class="op">(</span><span class="va">dypsis</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="geomtype.html">is.points</a></span><span class="op">(</span><span class="va">coast</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="geomtype.html">is.lines</a></span><span class="op">(</span><span class="va">rivers</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="geomtype.html">is.lines</a></span><span class="op">(</span><span class="va">dypsis</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="geomtype.html">is.polygons</a></span><span class="op">(</span><span class="va">coast</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="geomtype.html">is.polygons</a></span><span class="op">(</span><span class="va">dypsis</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># dimensions</span></span></span>
<span class="r-in"><span><span class="fu"><a href="dim.html">nrow</a></span><span class="op">(</span><span class="va">rivers</span><span class="op">)</span> <span class="co"># how many spatial features</span></span></span>
<span class="r-in"><span><span class="fu"><a href="dim.html">ncol</a></span><span class="op">(</span><span class="va">rivers</span><span class="op">)</span> <span class="co"># hay many columns in the data frame</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># number of geometries and sub-geometries</span></span></span>
<span class="r-in"><span><span class="fu"><a href="ngeom.html">ngeom</a></span><span class="op">(</span><span class="va">coast</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="ngeom.html">nsubgeom</a></span><span class="op">(</span><span class="va">coast</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># 2- or 3D</span></span></span>
<span class="r-in"><span><span class="fu"><a href="topology-GSpatial-method.html">topology</a></span><span class="op">(</span><span class="va">rivers</span><span class="op">)</span> <span class="co"># dimensionality</span></span></span>
<span class="r-in"><span><span class="fu"><a href="is.2d.html">is.2d</a></span><span class="op">(</span><span class="va">elev</span><span class="op">)</span> <span class="co"># is it 2D?</span></span></span>
<span class="r-in"><span><span class="fu"><a href="is.2d.html">is.3d</a></span><span class="op">(</span><span class="va">elev</span><span class="op">)</span> <span class="co"># is it 3D?</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Update values from GRASS</span></span></span>
<span class="r-in"><span><span class="co"># (Reads values from GRASS... will not appear to do anything in this case)</span></span></span>
<span class="r-in"><span><span class="va">coast</span> <span class="op">&lt;-</span> <span class="fu"><a href="update.html">update</a></span><span class="op">(</span><span class="va">coast</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### operations on GVectors</span></span></span>
<span class="r-in"><span><span class="co">##########################</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># convert to data frame</span></span></span>
<span class="r-in"><span><span class="fu"><a href="as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="va">rivers</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="as.data.frame.html">as.data.table</a></span><span class="op">(</span><span class="va">rivers</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># subsetting</span></span></span>
<span class="r-in"><span><span class="va">rivers</span><span class="op">[</span><span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, <span class="fl">5</span><span class="op">)</span><span class="op">]</span> <span class="co"># select 3 rows/geometries</span></span></span>
<span class="r-in"><span><span class="va">rivers</span><span class="op">[</span><span class="op">-</span><span class="fl">5</span><span class="op">:</span><span class="op">-</span><span class="fl">11</span><span class="op">]</span> <span class="co"># remove rows/geometries 5 through 11</span></span></span>
<span class="r-in"><span><span class="va">rivers</span><span class="op">[</span> , <span class="fl">1</span><span class="op">]</span> <span class="co"># column 1</span></span></span>
<span class="r-in"><span><span class="va">rivers</span><span class="op">[</span> , <span class="st">"NAM"</span><span class="op">]</span> <span class="co"># select column</span></span></span>
<span class="r-in"><span><span class="va">rivers</span><span class="op">[[</span><span class="st">"NAM"</span><span class="op">]</span><span class="op">]</span> <span class="co"># select column</span></span></span>
<span class="r-in"><span><span class="va">rivers</span><span class="op">[</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span> <span class="co"># row/geometry 1 and column 2 and 3</span></span></span>
<span class="r-in"><span><span class="va">rivers</span><span class="op">[</span><span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span><span class="op">]</span> <span class="co"># select every other geometry (T/F vector is recycled)</span></span></span>
<span class="r-in"><span><span class="va">rivers</span><span class="op">[</span> , <span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span><span class="op">]</span> <span class="co"># select every other column (T/F vector is recycled)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># removing data table</span></span></span>
<span class="r-in"><span><span class="va">noTable</span> <span class="op">&lt;-</span> <span class="fu"><a href="addTable.html">dropTable</a></span><span class="op">(</span><span class="va">rivers</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">noTable</span></span></span>
<span class="r-in"><span><span class="fu"><a href="dim.html">nrow</a></span><span class="op">(</span><span class="va">rivers</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="dim.html">nrow</a></span><span class="op">(</span><span class="va">noTable</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Refresh values from GRASS</span></span></span>
<span class="r-in"><span><span class="co"># (Reads values from GRASS... will not appear to do anything in this case</span></span></span>
<span class="r-in"><span><span class="co"># since the rivers object is up-to-date):</span></span></span>
<span class="r-in"><span><span class="va">rivers</span> <span class="op">&lt;-</span> <span class="fu"><a href="update.html">update</a></span><span class="op">(</span><span class="va">rivers</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Concatenating multiple vectors</span></span></span>
<span class="r-in"><span><span class="va">rivers2</span> <span class="op">&lt;-</span> <span class="fu"><a href="rbind.html">rbind</a></span><span class="op">(</span><span class="va">rivers</span>, <span class="va">rivers</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="dim.html">dim</a></span><span class="op">(</span><span class="va">rivers</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="dim.html">dim</a></span><span class="op">(</span><span class="va">rivers2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Adam B. Smith.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

