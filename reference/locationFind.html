<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Match CRS of a GSpatial object and an existing "GRASS" location — .locationFind,missing-method • fasterRaster</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Match CRS of a GSpatial object and an existing " grass location .locationfind><meta name="description" content='The function searches the set of available GRASS "projects" (previously known as "locations") for one that has a coordinate reference system matching a GSpatial object. If none are found, or if no connection with GRASS has yet been made, then it returns NULL. Otherwise, it returns either the index or the name of the matching location.'><meta property="og:description" content='The function searches the set of available GRASS "projects" (previously known as "locations") for one that has a coordinate reference system matching a GSpatial object. If none are found, or if no connection with GRASS has yet been made, then it returns NULL. Otherwise, it returns either the index or the name of the matching location.'><meta property="og:image" content="https://github.com/adamlilith/fasterRaster/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">fasterRaster</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">8.4.0.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/fasterRaster.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/GRasters.html">Types of GRasters</a></li>
    <li><a class="dropdown-item" href="../articles/faster_fasterRaster.html">Making fasterRaster faster</a></li>
    <li><a class="dropdown-item" href="../articles/addons.html">fasterRaster addons</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="nav-link" href="https://github.com/adamlilith/fasterRaster/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Match CRS of a GSpatial object and an existing "GRASS" location</h1>
      <small class="dont-index">Source: <a href="https://github.com/adamlilith/fasterRaster/blob/master/R/locationFind.r"><code>R/locationFind.r</code></a></small>
      <div class="d-none name"><code>locationFind.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The function searches the set of available <strong>GRASS</strong> "projects" (previously known as "locations") for one that has a coordinate reference system matching a <code>GSpatial</code> object. If none are found, or if no connection with <strong>GRASS</strong> has yet been made, then it returns <code>NULL</code>. Otherwise, it returns either the index or the name of the matching location.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S4 method for class 'missing'</span></span>
<span><span class="fu">.locationFind</span><span class="op">(</span><span class="va">x</span>, return <span class="op">=</span> <span class="st">"name"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'GLocation'</span></span>
<span><span class="fu">.locationFind</span><span class="op">(</span><span class="va">x</span>, return <span class="op">=</span> <span class="st">"name"</span>, match <span class="op">=</span> <span class="st">"name"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'SpatRaster'</span></span>
<span><span class="fu">.locationFind</span><span class="op">(</span><span class="va">x</span>, return <span class="op">=</span> <span class="st">"name"</span>, match <span class="op">=</span> <span class="st">"name"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'SpatVector'</span></span>
<span><span class="fu">.locationFind</span><span class="op">(</span><span class="va">x</span>, return <span class="op">=</span> <span class="st">"name"</span>, match <span class="op">=</span> <span class="st">"name"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'sf'</span></span>
<span><span class="fu">.locationFind</span><span class="op">(</span><span class="va">x</span>, return <span class="op">=</span> <span class="st">"name"</span>, match <span class="op">=</span> <span class="st">"name"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'character'</span></span>
<span><span class="fu">.locationFind</span><span class="op">(</span><span class="va">x</span>, return <span class="op">=</span> <span class="st">"name"</span>, match <span class="op">=</span> <span class="st">"name"</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>Either:</p><ul><li><p>Missing: Returns names and coordinate reference system strings of all "locations".</p></li>
<li><p>A character representing a coordinate reference system in WKT format</p></li>
<li><p>A <code>SpatRaster</code>, <code>SpatVector</code>, or <code>sf</code> vector with a coordinate reference system</p></li>
<li><p>A <code>GSpatial</code> object (usually a <code>GRaster</code> or <code>GVector</code>)</p></li>
</ul></dd>


<dt id="arg-return">return<a class="anchor" aria-label="anchor" href="#arg-return"></a></dt>
<dd><p>Either:</p><ul><li><p><code>"name"</code> (default): Returns the name of the "location" with a coordinate reference system the same as <code>x</code>.</p></li>
<li><p><code>"index"</code>: Returns the index of this "location" in <code>.fasterRaster$locations</code> of the <code>.fasterRaster</code> environment.</p></li>
<li><p><code>"crs"</code>: Returns the coordinate reference system of this "project/location".</p></li>
</ul></dd>


<dt id="arg-match">match<a class="anchor" aria-label="anchor" href="#arg-match"></a></dt>
<dd><p>Character: Method used to find the location. If <code>match</code> is "<code>name</code>"" (default), then the name of the location is used. If <code>match</code> is "<code>crs</code>", then the coordinate reference system of each location is checked for a match.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Character, integer, or <code>NULL</code> (if no match is found).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="grassStarted.html">grassStarted</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Setup</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/" class="external-link">terra</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example data</span></span></span>
<span class="r-in"><span><span class="va">madElev</span> <span class="op">&lt;-</span> <span class="fu"><a href="fastData.html">fastData</a></span><span class="op">(</span><span class="st">"madElev"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">madChelsa</span> <span class="op">&lt;-</span> <span class="fu"><a href="fastData.html">fastData</a></span><span class="op">(</span><span class="st">"madChelsa"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">madChelsa1</span> <span class="op">&lt;-</span> <span class="va">madChelsa</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Convert SpatRasters to GRasters.</span></span></span>
<span class="r-in"><span><span class="co"># Each raster has a different CRS so will be put into a different location.</span></span></span>
<span class="r-in"><span><span class="va">elev</span> <span class="op">&lt;-</span> <span class="fu"><a href="fast.html">fast</a></span><span class="op">(</span><span class="va">madElev</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">chelsa1</span> <span class="op">&lt;-</span> <span class="fu"><a href="fast.html">fast</a></span><span class="op">(</span><span class="va">madChelsa1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Name of the currently active location</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>   </span></span>
<span class="r-in"><span>   <span class="fu"><a href="location.html">.location</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="location.html">.location</a></span><span class="op">(</span><span class="va">elev</span><span class="op">)</span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="location.html">.location</a></span><span class="op">(</span><span class="va">chelsa1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>   <span class="co"># All available GRASS locations</span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="locations.html">.locations</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>   <span class="co"># Find location of an object among all active locations</span></span></span>
<span class="r-in"><span>   <span class="fu">.locationFind</span><span class="op">(</span><span class="va">elev</span><span class="op">)</span></span></span>
<span class="r-in"><span>   <span class="fu">.locationFind</span><span class="op">(</span><span class="va">chelsa1</span><span class="op">)</span></span></span>
<span class="r-in"><span>   <span class="fu">.locationFind</span><span class="op">(</span><span class="va">chelsa1</span>, return <span class="op">=</span> <span class="st">"index"</span><span class="op">)</span></span></span>
<span class="r-in"><span>   <span class="fu">.locationFind</span><span class="op">(</span><span class="va">chelsa1</span>, return <span class="op">=</span> <span class="st">"crs"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>   <span class="co"># Switch between locations</span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="locationRestore.html">.locationRestore</a></span><span class="op">(</span><span class="va">elev</span><span class="op">)</span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="locationRestore.html">.locationRestore</a></span><span class="op">(</span><span class="va">chelsa1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>   <span class="va">loc</span> <span class="op">&lt;-</span> <span class="fu"><a href="location.html">.location</a></span><span class="op">(</span><span class="va">elev</span><span class="op">)</span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="locationRestore.html">.locationRestore</a></span><span class="op">(</span><span class="va">loc</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>   <span class="co"># Delete the location where "elev" is stored.</span></span></span>
<span class="r-in"><span>   <span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="fu"><a href="location.html">.locationDelete</a></span><span class="op">(</span><span class="va">elev</span><span class="op">)</span> <span class="co"># dangerous!</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>   <span class="co"># Mapsets are always "PERMANENT" in fasterRaster</span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="mapset.html">.mapset</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="mapset.html">.mapset</a></span><span class="op">(</span><span class="va">elev</span><span class="op">)</span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="mapset.html">.mapset</a></span><span class="op">(</span><span class="va">chelsa1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Adam B. Smith.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

