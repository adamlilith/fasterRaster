<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Combine values/categories of multiple GRasters into a single GRaster — concats,GRaster-method • fasterRaster</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Combine values/categories of multiple GRasters into a single GRaster — concats,GRaster-method"><meta name="description" content='This function takes from 2 to 10 integer or categorical (factor) GRasters and creates a single GRaster that has one value per combination of values in the inputs. For example, say that there were two input rasters, with values 1 and 2 in the one raster, and 3 and 4 in the other. If the following combinations of values occurred between the two rasters, then the output raster would be re-coded with the new values:
input_raster1input_raster2output_raster
130
141
232
243




If the argument na.rm is set to TRUE (which it is, by default), then whenever at least one cell has an NA value, then the output will also have an NA (i.e., a new category number is not created). However, if na.rm is FALSE, then combinations that include an NA are assigned a new category number, unless all values are NA (in which case the output will be NA).
The difference between this function and combineLevels() is that this one creates a "combined" GRaster with a combined levels table, whereas combineLevels() just merges the levels tables.
If the inputs are all categorical rasters, then a levels() table will also be returned with the new levels.'><meta property="og:description" content='This function takes from 2 to 10 integer or categorical (factor) GRasters and creates a single GRaster that has one value per combination of values in the inputs. For example, say that there were two input rasters, with values 1 and 2 in the one raster, and 3 and 4 in the other. If the following combinations of values occurred between the two rasters, then the output raster would be re-coded with the new values:
input_raster1input_raster2output_raster
130
141
232
243




If the argument na.rm is set to TRUE (which it is, by default), then whenever at least one cell has an NA value, then the output will also have an NA (i.e., a new category number is not created). However, if na.rm is FALSE, then combinations that include an NA are assigned a new category number, unless all values are NA (in which case the output will be NA).
The difference between this function and combineLevels() is that this one creates a "combined" GRaster with a combined levels table, whereas combineLevels() just merges the levels tables.
If the inputs are all categorical rasters, then a levels() table will also be returned with the new levels.'><meta property="og:image" content="https://github.com/adamlilith/fasterRaster/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">fasterRaster</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">8.4.0.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/fasterRaster.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/GRasters.html">Types of GRasters</a></li>
    <li><a class="dropdown-item" href="../articles/faster_fasterRaster.html">Making fasterRaster faster</a></li>
    <li><a class="dropdown-item" href="../articles/addons.html">fasterRaster addons</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="nav-link" href="https://github.com/adamlilith/fasterRaster/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Combine values/categories of multiple GRasters into a single GRaster</h1>
      <small class="dont-index">Source: <a href="https://github.com/adamlilith/fasterRaster/blob/master/R/concats.r"><code>R/concats.r</code></a></small>
      <div class="d-none name"><code>concats.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function takes from 2 to 10 integer or categorical (factor) <code>GRaster</code>s and creates a single <code>GRaster</code> that has one value per combination of values in the inputs. For example, say that there were two input rasters, with values 1 and 2 in the one raster, and 3 and 4 in the other. If the following combinations of values occurred between the two rasters, then the output raster would be re-coded with the new values:</p><table class="table table"><tr><td><code>input_raster1</code></td><td><code>input_raster2</code></td><td><code>output_raster</code></td></tr><tr><td>1</td><td>3</td><td>0</td></tr><tr><td>1</td><td>4</td><td>1</td></tr><tr><td>2</td><td>3</td><td>2</td></tr><tr><td>2</td><td>4</td><td>3</td></tr></table><p>If the argument <code>na.rm</code> is set to <code>TRUE</code> (which it is, by default), then whenever at least one cell has an <code>NA</code> value, then the output will also have an <code>NA</code> (i.e., a new category number is not created). However, if <code>na.rm</code> is <code>FALSE</code>, then combinations that include an <code>NA</code> are assigned a new category number, unless all values are <code>NA</code> (in which case the output will be <code>NA</code>).</p>
<p>The difference between this function and <code><a href="combineLevels.html">combineLevels()</a></code> is that this one creates a "combined" <code>GRaster</code> with a combined levels table, whereas <code><a href="combineLevels.html">combineLevels()</a></code> just merges the levels tables.</p>
<p>If the inputs are all categorical rasters, then a <code><a href="levels.html">levels()</a></code> table will also be returned with the new levels.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S4 method for class 'GRaster'</span></span>
<span><span class="fu">concats</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A <code>GRaster</code> with one or more layers, each of which must be have cells that represent integers or categories (factors).</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Either missing or integer/categorical (factor) <code>GRaster</code>s.</p></dd>


<dt id="arg-na-rm">na.rm<a class="anchor" aria-label="anchor" href="#arg-na-rm"></a></dt>
<dd><p>Logical: If <code>TRUE</code> (default), then any combinations that include an <code>NA</code> cell will result in an <code>NA</code> cell in the output.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>GRaster</code>. If the inputs are all categorical (factor) rasters, then a levels table will also be returned with the new combined levels.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="combineLevels.html">combineLevels()</a></code>, <code><a href="https://rspatial.github.io/terra/reference/concats.html" class="external-link">terra::concats()</a></code>, <code><a href="../articles/GRasters.html">vignette("GRasters", package = "fasterRaster")</a></code>, <strong>GRASS</strong> manual page for module <code>r.cross</code> (see <code>grassHelp("r.cross")</code>)</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="grassStarted.html">grassStarted</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Setup</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/" class="external-link">terra</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example data: Land cover raster</span></span></span>
<span class="r-in"><span><span class="va">madCover</span> <span class="op">&lt;-</span> <span class="fu"><a href="fastData.html">fastData</a></span><span class="op">(</span><span class="st">"madCover"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Convert categorical SpatRaster to categorical GRaster:</span></span></span>
<span class="r-in"><span><span class="va">cover</span> <span class="op">&lt;-</span> <span class="fu"><a href="fast.html">fast</a></span><span class="op">(</span><span class="va">madCover</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### Properties of categorical rasters</span></span></span>
<span class="r-in"><span><span class="co">#####################################</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">cover</span> <span class="co"># note categories</span></span></span>
<span class="r-in"><span><span class="fu"><a href="is.int.html">is.factor</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span> <span class="co"># Is the raster categorical?</span></span></span>
<span class="r-in"><span><span class="fu"><a href="nlevels.html">nlevels</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span> <span class="co"># number of levels</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">levels</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span> <span class="co"># just the value and active column</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">cats</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span> <span class="co"># all columns</span></span></span>
<span class="r-in"><span><span class="fu"><a href="minmax.html">minmax</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span> <span class="co"># min/max values</span></span></span>
<span class="r-in"><span><span class="fu"><a href="minmax.html">minmax</a></span><span class="op">(</span><span class="va">cover</span>, levels <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="co"># min/max categories</span></span></span>
<span class="r-in"><span><span class="fu"><a href="catNames.html">catNames</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span> <span class="co"># column names of the levels table</span></span></span>
<span class="r-in"><span><span class="fu"><a href="missingCats.html">missingCats</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span> <span class="co"># categories in table with no values in raster</span></span></span>
<span class="r-in"><span><span class="fu"><a href="freq.html">freq</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span> <span class="co"># frequency of each category (number of cells)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="zonalGeog.html">zonalGeog</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span> <span class="co"># geometric statistics</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### Active column</span></span></span>
<span class="r-in"><span><span class="co">#################</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Which column sets the category labels?</span></span></span>
<span class="r-in"><span><span class="fu"><a href="activeCat.html">activeCat</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="activeCat.html">activeCat</a></span><span class="op">(</span><span class="va">cover</span>, names <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="activeCat.html">activeCats</a></span><span class="op">(</span><span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="va">cover</span>, <span class="va">cover</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Choose a different column for category labels:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">levels</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="activeCat.html">activeCat</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fl">2</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">levels</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### Managing levels tables</span></span></span>
<span class="r-in"><span><span class="co">##########################</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Remove unused levels:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="nlevels.html">nlevels</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cover</span> <span class="op">&lt;-</span> <span class="fu"><a href="droplevels.html">droplevels</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="nlevels.html">nlevels</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Re-assign levels:</span></span></span>
<span class="r-in"><span><span class="va">value</span> <span class="op">&lt;-</span> <span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">30</span>, <span class="fl">40</span>, <span class="fl">50</span>, <span class="fl">120</span>, <span class="fl">130</span>, <span class="fl">140</span>, <span class="fl">170</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">label</span> <span class="op">&lt;-</span> <span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="st">"Cropland"</span>, <span class="st">"Cropland"</span>, <span class="st">"Forest"</span>, <span class="st">"Forest"</span>,</span></span>
<span class="r-in"><span> <span class="st">"Grassland"</span>, <span class="st">"Shrubland"</span>, <span class="st">"Herbaceous"</span>, <span class="st">"Flooded"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">newCats</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>value <span class="op">=</span> <span class="va">value</span>, label <span class="op">=</span> <span class="va">label</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">cover</span> <span class="op">&lt;-</span> <span class="fu"><a href="levels.html">categories</a></span><span class="op">(</span><span class="va">cover</span>, layer <span class="op">=</span> <span class="fl">1</span>, value <span class="op">=</span> <span class="va">newCats</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">cats</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># This is the same as:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">levels</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">newCats</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">cats</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Are there any values not assigned a category?</span></span></span>
<span class="r-in"><span><span class="fu"><a href="missingCats.html">missingCats</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Let's assign a category for value 210 (water):</span></span></span>
<span class="r-in"><span><span class="va">water</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>value <span class="op">=</span> <span class="fl">210</span>, label <span class="op">=</span> <span class="st">"Water"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="addCats.html">addCats</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">water</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">levels</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Add more information to the levels table using merge():</span></span></span>
<span class="r-in"><span><span class="va">landType</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>     Value <span class="op">=</span> <span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">30</span>, <span class="fl">40</span>, <span class="fl">50</span>, <span class="fl">120</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>     Type <span class="op">=</span> <span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="st">"Irrigated"</span>, <span class="st">"Rainfed"</span>, <span class="st">"Broadleaf evergreen"</span>,</span></span>
<span class="r-in"><span>     <span class="st">"Broadleaf deciduous"</span>, <span class="st">"Mosaic with forest"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">cats</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cover</span> <span class="op">&lt;-</span> <span class="fu"><a href="addCats.html">addCats</a></span><span class="op">(</span><span class="va">cover</span>, <span class="va">landType</span>, merge <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">cats</a></span><span class="op">(</span><span class="va">cover</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### Logical operations on categorical rasters</span></span></span>
<span class="r-in"><span><span class="co">#############################################</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">cover</span> <span class="op">&lt;</span> <span class="st">"Forest"</span> <span class="co"># 1 for cells with a value &lt; 40, 0 otherwise</span></span></span>
<span class="r-in"><span><span class="va">cover</span> <span class="op">&lt;=</span> <span class="st">"Forest"</span> <span class="co"># 1 for cells with a value &lt; 120, 0 otherwise</span></span></span>
<span class="r-in"><span><span class="va">cover</span> <span class="op">==</span> <span class="st">"Forest"</span> <span class="co"># 1 for cells with value of 40-120, 0 otherwise</span></span></span>
<span class="r-in"><span><span class="va">cover</span> <span class="op">!=</span> <span class="st">"Forest"</span> <span class="co"># 1 for cells with value that is not 40-120, 0 otherwise</span></span></span>
<span class="r-in"><span><span class="va">cover</span> <span class="op">&gt;</span> <span class="st">"Forest"</span> <span class="co"># 1 for cells with a value &gt; 120, 0 otherwise</span></span></span>
<span class="r-in"><span><span class="va">cover</span> <span class="op">&gt;=</span> <span class="st">"Forest"</span> <span class="co"># 1 for cells with a value &gt;= 120, 0 otherwise</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">cover</span> <span class="op"><a href="match.html">%in%</a></span> <span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="st">"Cropland"</span>, <span class="st">"Forest"</span><span class="op">)</span> <span class="co"># 1 for cropland/forest cells, 0 otherwise</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### Combine categories from different rasters</span></span></span>
<span class="r-in"><span><span class="co">#############################################</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># NB We only have one categorical raster ships with fasterRaster, so we</span></span></span>
<span class="r-in"><span><span class="co"># will create a second one from the elevation raster.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Divide elevation raster into "low/medium/high" levels:</span></span></span>
<span class="r-in"><span><span class="va">madElev</span> <span class="op">&lt;-</span> <span class="fu"><a href="fastData.html">fastData</a></span><span class="op">(</span><span class="st">"madElev"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">elev</span> <span class="op">&lt;-</span> <span class="fu"><a href="fast.html">fast</a></span><span class="op">(</span><span class="va">madElev</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">elev</span> <span class="op">&lt;-</span> <span class="fu"><a href="project.html">project</a></span><span class="op">(</span><span class="va">elev</span>, <span class="va">cover</span>, method <span class="op">=</span> <span class="st">"near"</span><span class="op">)</span> <span class="co"># convert to same CRS</span></span></span>
<span class="r-in"><span><span class="va">fun</span> <span class="op">&lt;-</span> <span class="st">"= if(madElev &lt; 100, 0, if(madElev &lt; 400, 1, 2))"</span></span></span>
<span class="r-in"><span><span class="va">elevCat</span> <span class="op">&lt;-</span> <span class="fu"><a href="app.html">app</a></span><span class="op">(</span><span class="va">elev</span>, <span class="va">fun</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">levs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>     value <span class="op">=</span> <span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>     elevation <span class="op">=</span> <span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="st">"low"</span>, <span class="st">"medium"</span>, <span class="st">"high"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">levels</a></span><span class="op">(</span><span class="va">elevCat</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">levs</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Combine levels:</span></span></span>
<span class="r-in"><span><span class="va">combined</span> <span class="op">&lt;-</span> <span class="fu">concats</span><span class="op">(</span><span class="va">cover</span>, <span class="va">elevCat</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">combined</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">levels</a></span><span class="op">(</span><span class="va">combined</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Combine levels, treating value/NA combinations as new categories:</span></span></span>
<span class="r-in"><span><span class="va">combinedNA</span> <span class="op">&lt;-</span> <span class="fu">concats</span><span class="op">(</span><span class="va">cover</span>, <span class="va">elevCat</span>, na.rm <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">combinedNA</span></span></span>
<span class="r-in"><span><span class="fu"><a href="levels.html">levels</a></span><span class="op">(</span><span class="va">combinedNA</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Adam B. Smith.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

