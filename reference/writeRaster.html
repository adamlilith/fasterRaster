<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Save a GRaster to disk — writeRaster,GRaster,character-method • fasterRaster</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Save a GRaster to disk — writeRaster,GRaster,character-method"><meta name="description" content='This function saves a GRaster to disk directly from a GRASS session. It is faster than using rast(), then saving the output of that to disk (because rast() actually save the raster to disk, anyway).
The function will attempt to ascertain the file type to be ascertained from the file extension, but you can specify the format using the format argument (see entry for ...). You can see a list of supported formats by simply using this function with no arguments, as in writeRaster(), or by consulting the online help page for the GRASS module r.out.gdal (see grassHelp("r.out.gdal")). Only the GeoTIFF file format is guaranteed to work for multi-layered rasters.
The function will attempt to optimize the datatype argument, but this can take a long time. You can speed this up by setting datatype manually. Note that if you are saving a "stack" of GRasters with different datatypes, the one with the highest information density will be used (e.g., low-bit integer &amp;lt; high-bit integer &amp;lt; floating-point &amp;lt; double-floating point). This can make rasters with lower datatypes much larger on disk. In these cases, it make be best to save rasters with similar datatypes together.'><meta property="og:description" content='This function saves a GRaster to disk directly from a GRASS session. It is faster than using rast(), then saving the output of that to disk (because rast() actually save the raster to disk, anyway).
The function will attempt to ascertain the file type to be ascertained from the file extension, but you can specify the format using the format argument (see entry for ...). You can see a list of supported formats by simply using this function with no arguments, as in writeRaster(), or by consulting the online help page for the GRASS module r.out.gdal (see grassHelp("r.out.gdal")). Only the GeoTIFF file format is guaranteed to work for multi-layered rasters.
The function will attempt to optimize the datatype argument, but this can take a long time. You can speed this up by setting datatype manually. Note that if you are saving a "stack" of GRasters with different datatypes, the one with the highest information density will be used (e.g., low-bit integer &amp;lt; high-bit integer &amp;lt; floating-point &amp;lt; double-floating point). This can make rasters with lower datatypes much larger on disk. In these cases, it make be best to save rasters with similar datatypes together.'><meta property="og:image" content="https://github.com/adamlilith/fasterRaster/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">fasterRaster</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">8.4.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/fasterRaster.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/GRasters.html">Types of GRasters</a></li>
    <li><a class="dropdown-item" href="../articles/faster_fasterRaster.html">Making fasterRaster faster</a></li>
    <li><a class="dropdown-item" href="../articles/addons.html">fasterRaster addons</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="nav-link" href="https://github.com/adamlilith/fasterRaster/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Save a GRaster to disk</h1>
      <small class="dont-index">Source: <a href="https://github.com/adamlilith/fasterRaster/blob/master/R/writeRaster.r"><code>R/writeRaster.r</code></a></small>
      <div class="d-none name"><code>writeRaster.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function saves a <code>GRaster</code> to disk directly from a <strong>GRASS</strong> session. It is faster than using <code><a href="rast.html">rast()</a></code>, then saving the output of that to disk (because <code><a href="rast.html">rast()</a></code> actually save the raster to disk, anyway).</p>
<p>The function will attempt to ascertain the file type to be ascertained from the file extension, but you can specify the format using the <code>format</code> argument (see entry for <code>...</code>). You can see a list of supported formats by simply using this function with no arguments, as in <code>writeRaster()</code>, or by consulting the online help page for the <strong>GRASS</strong> module <code>r.out.gdal</code> (see <code>grassHelp("r.out.gdal")</code>). Only the <code>GeoTIFF</code> file format is guaranteed to work for multi-layered rasters.</p>
<p>The function will attempt to optimize the <code>datatype</code> argument, but this can take a long time. You can speed this up by setting <code>datatype</code> manually. Note that if you are saving a "stack" of <code>GRaster</code>s with different <code>datatype</code>s, the one with the highest information density will be used (e.g., low-bit integer &lt; high-bit integer &lt; floating-point &lt; double-floating point). This can make rasters with lower datatypes much larger on disk. In these cases, it make be best to save rasters with similar <code>datatype</code>s together.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S4 method for class 'GRaster,character'</span></span>
<span><span class="fu">writeRaster</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">filename</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  datatype <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  byLayer <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  names <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  levelsExt <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  compress <span class="op">=</span> <span class="st">"LZW"</span>,</span>
<span>  warn <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'missing,missing'</span></span>
<span><span class="fu">writeRaster</span><span class="op">(</span><span class="va">x</span>, <span class="va">filename</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A <code>GRaster</code> or missing: If missing, a table of supported file types is reported.</p></dd>


<dt id="arg-filename">filename<a class="anchor" aria-label="anchor" href="#arg-filename"></a></dt>
<dd><p>Character: Path and file name.</p></dd>


<dt id="arg-overwrite">overwrite<a class="anchor" aria-label="anchor" href="#arg-overwrite"></a></dt>
<dd><p>Logical: If <code>FALSE</code> (default), do not save over existing file(s).</p></dd>


<dt id="arg-datatype">datatype<a class="anchor" aria-label="anchor" href="#arg-datatype"></a></dt>
<dd><p><code>NULL</code> (default) or character: The datatype of the values stored in non-ASCII rasters. If <code>NULL</code>, this will be ascertained from the raster, and the function usually does a good job at it. However, you can force it manually, but note that in some cases, trying to save a <code>GRaster</code> using an inappropriate <code>datatype</code> for its values can result in an error or in the function exiting without an error but also without having written the raster to disk. The argument can take any of those shown below under the first four columns, but whatever is used, it will be converted to the <strong>GDAL</strong> version.</p><table class="table table"><tr><td><strong>fasterRaster</strong></td><td><strong>terra</strong></td><td><strong>GRASS</strong></td><td><strong>GDAL</strong></td><td><strong>Values</strong></td></tr><tr><td><code>integer</code></td><td><code>INT1U</code></td><td><code>CELL</code></td><td><code>Byte</code></td><td>Integer values from 0 to 255</td></tr><tr><td><code>integer</code></td><td><code>INT2U</code></td><td><code>CELL</code></td><td><code>UInt16</code></td><td>Integer values from 0 to 65,534</td></tr><tr><td><code>integer</code></td><td><code>INT2S</code></td><td><code>CELL</code></td><td><code>Int16</code></td><td>Integer values from -32,767 to -32,767</td></tr><tr><td><code>integer</code></td><td><code>INT4S</code></td><td><code>CELL</code></td><td><code>Int32</code></td><td>Integer values from -2,147,483,647 to 2,147,483,647</td></tr><tr><td><code>float</code></td><td><code>FLT4S</code></td><td><code>FCELL</code></td><td><code>Float32</code></td><td>Values from -3.4E+38 to 3.4E+38, including decimal values</td></tr><tr><td><code>double</code></td><td><code>FLT8S</code></td><td><code>DCELL</code></td><td><code>Float64</code></td><td>Values from -1.79E+308 to 1.79E+308, including decimal values</td></tr><tr><td><code>factor</code></td><td><code>INT</code>*</td><td><code>CELL</code></td><td><code>INT*</code></td><td>Integer values corresponding to categories</td></tr></table><p><code>*</code> Depends on the integers (signed/unsigned, range of values). Categorical rasters will have an associated file saved with them that has category values and labels. The file name will be the same as the raster's file name, but end with the extension given by <code>levelsExt</code> (<code>.csv</code> by default).</p></dd>


<dt id="arg-bylayer">byLayer<a class="anchor" aria-label="anchor" href="#arg-bylayer"></a></dt>
<dd><p>Logical: If <code>FALSE</code> (default), multi-layer rasters will be saved in one file. If <code>TRUE</code>, the each layer will be saved in a separate file. The filename from <code>filename</code> will be amended so that it ends with <code>_&lt;name&gt;</code> (then the file extension), where <code>&lt;name&gt;</code> is give by <code><a href="names.html">names()</a></code>. Note that if any characters in raster names will not work in a file name, then the function will fail (e.g., a backslash or question mark).</p></dd>


<dt id="arg-names">names<a class="anchor" aria-label="anchor" href="#arg-names"></a></dt>
<dd><p>Logical: If <code>TRUE</code> (default), save a file with raster layer names. The file will have the same name as the raster file but end with "<code>_names.csv</code>". Currently, the <code><a href="names.html">names()</a></code> attribute of rasters cannot be saved in the raster, which can create confusion when multi-layered rasters are saved. Turning on this option will save the ancillary file with layer names. If it exists, this file will be read by <code><a href="fast.html">fast()</a></code> so layer names are assigned when the raster is read by that function. The absence of a "names" file will not create any issues with this function or <code><a href="fast.html">fast()</a></code>, other than not having the metadata on layer names.</p></dd>


<dt id="arg-levelsext">levelsExt<a class="anchor" aria-label="anchor" href="#arg-levelsext"></a></dt>
<dd><p>Character, logical, or <code>NULL</code> (default): Name of the file extension for the "levels" file that accompanies a categorical <code>GRaster</code>. When saving categorical rasters, the raster file is accompanied with a "levels" file that contain information on the levels of the raster. This file is the same as <code>filename</code>, except it has a different extension. Valid values depend on how many raster layers are saved at a time (case is ignored):</p><ul><li><p>DefaultOne raster layer: <code>".csv"</code></p></li>
<li><p>Two or more layers, with at least one categorical raster: <code>".rds"</code>, <code>".rda"</code>, <code>".rdat"</code>, <code>".rdata"</code></p></li>
<li><p>Any: <code>NULL</code> or <code>TRUE</code> automatically selects either <code>".csv"</code> (one raster layer) or <code>".rds</code> (two or more)</p></li>
<li><p>Any: <code>FALSE</code> disables saving of a levels file.</p></li>
</ul></dd>


<dt id="arg-compress">compress<a class="anchor" aria-label="anchor" href="#arg-compress"></a></dt>
<dd><p>Character: Type of compression to use for GeoTIFF files:</p><ul><li><p><code>"LZW"</code> (default)</p></li>
<li><p><code>"DEFLATE"</code></p></li>
<li><p><code>"PACKBITS"</code></p></li>
<li><p><code>"LZMA"</code></p></li>
<li><p><code>NULL</code>: No compression is used, but the file can still be reduced in size by using zip, gzip, or other compressions.</p></li>
</ul></dd>


<dt id="arg-warn">warn<a class="anchor" aria-label="anchor" href="#arg-warn"></a></dt>
<dd><p>Logical: If <code>TRUE</code> (default), display a warning if the <code>datatype</code> argument does not match the value given by <code>datatype(x, "GDAL")</code>, or if the <code>fileExt</code> argument will not work with the given raster and so has been automatically changed.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments. These can include:</p><ul><li><p><code>bigTiff</code>: Logical: If <code>TRUE</code>, and the file format is a GeoTIFF and would be larger than 4 GB (regardless of compression), then the file will be saved in BIGTIFF format.</p></li>
<li><p><code>format</code>: Character, indicating file format. This is usually ascertained from the file extension, but in case this fails, it can be stated explicitly. When using other formats, you may have to specify the <code>createopts</code> argument, too (see help page for <strong>GRASS</strong> module <code>r.out.gdal</code>). Two common formats include:</p><ul><li><p><code>"GTiff"</code> (default): GeoTIFF <code>filename</code> ends in <code>.tif</code>.</p></li>
<li><p><code>"ASC"</code>: ASCII <code>filename</code> ends in <code>.asc</code></p></li>
</ul></li>
<li><p>Additional arguments to send to <strong>GRASS</strong> modules <code>r.out.gdal</code> and <code>r.out.ascii</code>.</p></li>
<li><p><code>precision</code>: Numeric: For ASCII files, you may need to state the number of significant digits. 32-bit values have 7 digits and 64-bit values have 16. So in these cases the argument would be <code>precision=7</code> or <code>precision=16</code>.</p></li>
</ul></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>GRaster</code> (invisibly). A raster is also saved to disk.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://rspatial.github.io/terra/reference/writeRaster.html" class="external-link">terra::writeRaster()</a></code>, <strong>GRASS</strong> module <code>r.out.gdal</code> (see <code>grassHelp("r.out.gdal")</code>)</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="grassStarted.html">grassStarted</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Setup</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/" class="external-link">terra</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example data</span></span></span>
<span class="r-in"><span><span class="va">madElev</span> <span class="op">&lt;-</span> <span class="fu"><a href="fastData.html">fastData</a></span><span class="op">(</span><span class="st">"madElev"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">madChelsa</span> <span class="op">&lt;-</span> <span class="fu"><a href="fastData.html">fastData</a></span><span class="op">(</span><span class="st">"madChelsa"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### What raster formats can we attempt to write?</span></span></span>
<span class="r-in"><span><span class="fu">writeRaster</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### Save GRaster to disk (using temporary file)</span></span></span>
<span class="r-in"><span><span class="va">elev</span> <span class="op">&lt;-</span> <span class="fu"><a href="fast.html">fast</a></span><span class="op">(</span><span class="va">madElev</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">filename</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>fileext <span class="op">=</span> <span class="st">".tif"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">writeRaster</span><span class="op">(</span><span class="va">elev</span>, <span class="va">filename</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Load raster from disk</span></span></span>
<span class="r-in"><span><span class="va">elev2</span> <span class="op">&lt;-</span> <span class="fu"><a href="fast.html">fast</a></span><span class="op">(</span><span class="va">filename</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">elev2</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### Save multi-layer GRaster to disk in one file (using temporary file)</span></span></span>
<span class="r-in"><span><span class="va">chelsa</span> <span class="op">&lt;-</span> <span class="fu"><a href="fast.html">fast</a></span><span class="op">(</span><span class="va">madChelsa</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">filename</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>fileext <span class="op">=</span> <span class="st">".tif"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">writeRaster</span><span class="op">(</span><span class="va">chelsa</span>, <span class="va">filename</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Load raster from disk</span></span></span>
<span class="r-in"><span><span class="va">chelsa2</span> <span class="op">&lt;-</span> <span class="fu"><a href="fast.html">fast</a></span><span class="op">(</span><span class="va">filename</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">chelsa2</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### Save multi-layer GRaster to disk layer-by-layer (using temporary file)</span></span></span>
<span class="r-in"><span><span class="va">chelsa</span> <span class="op">&lt;-</span> <span class="fu"><a href="fast.html">fast</a></span><span class="op">(</span><span class="va">madChelsa</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">filename</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>fileext <span class="op">=</span> <span class="st">".tif"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">writeRaster</span><span class="op">(</span><span class="va">chelsa</span>, <span class="va">filename</span>, byLayer <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Load one of the rasters from disk</span></span></span>
<span class="r-in"><span><span class="va">filename2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">sub</a></span><span class="op">(</span><span class="va">filename</span>, pattern <span class="op">=</span> <span class="st">".tif"</span>, replacement <span class="op">=</span> <span class="st">"_bio1.tif"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">chelsaBio1</span> <span class="op">&lt;-</span> <span class="fu"><a href="fast.html">fast</a></span><span class="op">(</span><span class="va">filename2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">chelsaBio1</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Adam B. Smith.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

