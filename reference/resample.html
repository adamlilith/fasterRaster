<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Change the cell size of a GRaster — resample,GRaster,GRaster-method • fasterRaster</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Change the cell size of a GRaster — resample,GRaster,GRaster-method"><meta name="description" content="resample() changes the cell size (resolution) of a GRaster using either another raster as a template or a user-defined resolution. Note that the extent of the output raster may be expanded to accommodate an integer number of cells. The function is not guaranteed to recreate the same output as terra::resample(), even when the same resampling method is used."><meta property="og:description" content="resample() changes the cell size (resolution) of a GRaster using either another raster as a template or a user-defined resolution. Note that the extent of the output raster may be expanded to accommodate an integer number of cells. The function is not guaranteed to recreate the same output as terra::resample(), even when the same resampling method is used."><meta property="og:image" content="https://github.com/adamlilith/fasterRaster/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">fasterRaster</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">8.4.0.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/fasterRaster.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/GRasters.html">Types of GRasters</a></li>
    <li><a class="dropdown-item" href="../articles/faster_fasterRaster.html">Making fasterRaster faster</a></li>
    <li><a class="dropdown-item" href="../articles/addons.html">fasterRaster addons</a></li>
    <li><a class="dropdown-item" href="../articles/3d_objects.html">3-dimensional objects</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="nav-link" href="https://github.com/adamlilith/fasterRaster/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Change the cell size of a GRaster</h1>
      <small class="dont-index">Source: <a href="https://github.com/adamlilith/fasterRaster/blob/master/R/resample.r"><code>R/resample.r</code></a></small>
      <div class="d-none name"><code>resample.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>resample()</code> changes the cell size (resolution) of a <code>GRaster</code> using either another raster as a template or a user-defined resolution. Note that the extent of the output raster may be expanded to accommodate an integer number of cells. The function is not guaranteed to recreate the same output as <code><a href="https://rspatial.github.io/terra/reference/resample.html" class="external-link">terra::resample()</a></code>, even when the same resampling method is used.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S4 method for class 'GRaster,GRaster'</span></span>
<span><span class="fu">resample</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, method <span class="op">=</span> <span class="cn">NULL</span>, fallback <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'GRaster,numeric'</span></span>
<span><span class="fu">resample</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, method <span class="op">=</span> <span class="cn">NULL</span>, fallback <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>The <code>GRaster</code> to resample.</p></dd>


<dt id="arg-y">y<a class="anchor" aria-label="anchor" href="#arg-y"></a></dt>
<dd><p>Either a <code>GRaster</code> to serve as a template, or a numeric vector with two or three values. If a numeric vector, the values represent east-west and north-south resolution for 2D rasters, or east-west, north-south, and top-bottom resolution for 3D rasters.</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>Character or <code>NULL</code>: Method to use to assign values to cells. Partial matching is used.</p><ul><li><p><code>NULL</code> (default): Automatically choose based on raster properties (<code>near</code> for categorical or integer rasters, <code>bilinear</code> for continuous data).</p></li>
<li><p><code>"near"</code>: Nearest neighbor. Best for categorical data, and often a poor choice for continuous data.  If <code><a href="nlevels.html">nlevels()</a></code> is &gt;0, this method will be used regardless of the value of <code>method</code>. If you still want to use a different method, coerce the raster to a different type using <code><a href="as.int.html">as.int()</a></code>, <code><a href="as.int.html">as.float()</a></code>, or <code><a href="as.int.html">as.doub()</a></code>.</p></li>
<li><p><code>"bilinear"</code>: Bilinear interpolation (default for non-categorical data; uses weighted values from 4 cells).</p></li>
<li><p><code>"bicubic"</code>: Bicubic interpolation (uses weighted values from 16 cells).</p></li>
<li><p><code>"lanczos"</code>: Lanczos interpolation (uses weighted values from 25 cells).
Note that methods that use multiple cells will cause the focal cell to become <code>NA</code> if there is at least one cell with an <code>NA</code> in the cells it draws from. These <code>NA</code> cells can be filled using the <code>fallback</code> option.</p></li>
</ul></dd>


<dt id="arg-fallback">fallback<a class="anchor" aria-label="anchor" href="#arg-fallback"></a></dt>
<dd><p>Logical: If <code>TRUE</code> (default), then use "lower" methods to fill in <code>NA</code> cells when a "higher" method is used. For example, if <code>method = "bicubic"</code>, <code>NA</code> cells will be filled in using the <code>bilinear</code> method, except when that results in <code>NA</code>s, in which case the <code>near</code> method will be used. Fallback causes fewer cells to revert to <code>NA</code> values, so can be better at resampling the edges of rasters. However, fallback does increase processing time because each "lower" method must be applied, then results merged.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>GRaster</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://rspatial.github.io/terra/reference/resample.html" class="external-link">terra::resample()</a></code>, <strong>GRASS</strong> modules <code>r.resample</code> and <code>r.resamp.interp</code> (see <code>grassHelp("</code>r.resample<code>") and </code>grassHelp("<code>r.resamp.interp</code>")`)</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="grassStarted.html">grassStarted</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Setup</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/" class="external-link">terra</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Elevation raster</span></span></span>
<span class="r-in"><span><span class="va">madElev</span> <span class="op">&lt;-</span> <span class="fu"><a href="fastData.html">fastData</a></span><span class="op">(</span><span class="st">"madElev"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">elev</span> <span class="op">&lt;-</span> <span class="fu"><a href="fast.html">fast</a></span><span class="op">(</span><span class="va">madElev</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### Resample raster to 120 x 120 m</span></span></span>
<span class="r-in"><span><span class="va">elev120</span> <span class="op">&lt;-</span> <span class="fu">resample</span><span class="op">(</span><span class="va">elev</span>, <span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="fl">120</span>, <span class="fl">120</span><span class="op">)</span>, method<span class="op">=</span><span class="st">"bilinear"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">elev</span></span></span>
<span class="r-in"><span><span class="va">elev120</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### Resample using another raster as a template</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">template</span> <span class="op">&lt;-</span> <span class="fu"><a href="aggregate.html">aggregate</a></span><span class="op">(</span><span class="va">elev</span>, <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">nearest</span> <span class="op">&lt;-</span> <span class="fu">resample</span><span class="op">(</span><span class="va">elev</span>, <span class="va">template</span>, method <span class="op">=</span> <span class="st">"nearest"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">bilinear</span> <span class="op">&lt;-</span> <span class="fu">resample</span><span class="op">(</span><span class="va">elev</span>, <span class="va">template</span>, method <span class="op">=</span> <span class="st">"bilinear"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">bilinearNoFB</span> <span class="op">&lt;-</span> <span class="fu">resample</span><span class="op">(</span><span class="va">elev</span>, <span class="va">template</span>, method <span class="op">=</span> <span class="st">"bilinear"</span>, fallback <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">bicubic</span> <span class="op">&lt;-</span> <span class="fu">resample</span><span class="op">(</span><span class="va">elev</span>, <span class="va">template</span>, method <span class="op">=</span> <span class="st">"bicubic"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">bicubicNoFB</span> <span class="op">&lt;-</span> <span class="fu">resample</span><span class="op">(</span><span class="va">elev</span>, <span class="va">template</span>, method <span class="op">=</span> <span class="st">"bicubic"</span>, fallback <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">lanczos</span> <span class="op">&lt;-</span> <span class="fu">resample</span><span class="op">(</span><span class="va">elev</span>, <span class="va">template</span>, method <span class="op">=</span> <span class="st">"lanczos"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">lanczosNoFB</span> <span class="op">&lt;-</span> <span class="fu">resample</span><span class="op">(</span><span class="va">elev</span>, <span class="va">template</span>, method <span class="op">=</span> <span class="st">"lanczos"</span>, fallback <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># rasters resampled without fallback have fewer non-NA cells</span></span></span>
<span class="r-in"><span><span class="va">resampled</span> <span class="op">&lt;-</span> <span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="va">nearest</span>, <span class="va">bilinear</span>, <span class="va">bilinearNoFB</span>, <span class="va">bicubic</span>, <span class="va">bicubicNoFB</span>, <span class="va">lanczos</span>,</span></span>
<span class="r-in"><span>    <span class="va">lanczosNoFB</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="names.html">names</a></span><span class="op">(</span><span class="va">resampled</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="st">"nearest"</span>, <span class="st">"bilinear"</span>, <span class="st">"bilinearNoFB"</span>, <span class="st">"bicubic"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"bicubicNoFB"</span>, <span class="st">"lanczos"</span>, <span class="st">"lanczosNoFB"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ones</span> <span class="op">&lt;-</span> <span class="va">resampled</span> <span class="op">*</span> <span class="fl">0</span> <span class="op">+</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="fu"><a href="global.html">global</a></span><span class="op">(</span><span class="va">ones</span>, <span class="st">"sum"</span><span class="op">)</span> <span class="co"># number of non-NA cells</span></span></span>
<span class="r-in"><span><span class="fu"><a href="global.html">global</a></span><span class="op">(</span><span class="va">resampled</span>, <span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="st">"mean"</span>, <span class="st">"sd"</span>, <span class="st">"min"</span>, <span class="st">"max"</span><span class="op">)</span><span class="op">)</span> <span class="co"># other statistics</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Compare fallback to no fallback</span></span></span>
<span class="r-in"><span><span class="va">frLanczos</span> <span class="op">&lt;-</span> <span class="fu"><a href="rast.html">rast</a></span><span class="op">(</span><span class="va">lanczos</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">frLanczosNoFB</span> <span class="op">&lt;-</span> <span class="fu"><a href="rast.html">rast</a></span><span class="op">(</span><span class="va">lanczosNoFB</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot.html">plot</a></span><span class="op">(</span><span class="va">frLanczos</span>, col <span class="op">=</span> <span class="st">"red"</span>,</span></span>
<span class="r-in"><span>    main <span class="op">=</span> <span class="st">"Red: Cells in fallback not non-fallback"</span>, legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot.html">plot</a></span><span class="op">(</span><span class="va">frLanczosNoFB</span>, add<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Compare fasterRaster with terra</span></span></span>
<span class="r-in"><span><span class="va">coarserTerra</span> <span class="op">&lt;-</span> <span class="fu"><a href="aggregate.html">aggregate</a></span><span class="op">(</span><span class="va">madElev</span>, <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">terraLanczos</span> <span class="op">&lt;-</span> <span class="fu">resample</span><span class="op">(</span><span class="va">madElev</span>, <span class="va">coarserTerra</span>, method <span class="op">=</span> <span class="st">"lanczos"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">frLanczos</span> <span class="op">&lt;-</span> <span class="fu"><a href="extend.html">extend</a></span><span class="op">(</span><span class="va">frLanczos</span>, <span class="va">terraLanczos</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">frLanczosNoFB</span> <span class="op">&lt;-</span> <span class="fu"><a href="extend.html">extend</a></span><span class="op">(</span><span class="va">frLanczosNoFB</span>, <span class="va">terraLanczos</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">frLanczos</span> <span class="op">-</span> <span class="va">terraLanczos</span></span></span>
<span class="r-in"><span><span class="va">frLanczosNoFB</span> <span class="op">-</span> <span class="va">terraLanczos</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot.html">plot</a></span><span class="op">(</span><span class="va">frLanczos</span> <span class="op">-</span> <span class="va">terraLanczos</span>, main <span class="op">=</span> <span class="st">"Difference"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot.html">plot</a></span><span class="op">(</span><span class="va">frLanczosNoFB</span> <span class="op">-</span> <span class="va">terraLanczos</span>, main <span class="op">=</span> <span class="st">"Difference"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot.html">plot</a></span><span class="op">(</span><span class="va">terraLanczos</span>, col <span class="op">=</span> <span class="st">"red"</span>,</span></span>
<span class="r-in"><span>    main <span class="op">=</span> <span class="st">"Red: Cells in terra not in FR"</span>, legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot.html">plot</a></span><span class="op">(</span><span class="va">frLanczos</span>, add<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot.html">plot</a></span><span class="op">(</span><span class="va">frLanczos</span>, col <span class="op">=</span> <span class="st">"red"</span>,</span></span>
<span class="r-in"><span>    main <span class="op">=</span> <span class="st">"Red: Cells in FR not in terra"</span>, legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot.html">plot</a></span><span class="op">(</span><span class="va">terraLanczos</span>, add<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Adam B. Smith.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

