<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Getting started with "fasterRaster" — tutorial_getting_started • fasterRaster</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting started with " fasterraster tutorial_getting_started><meta name="description" content="fasterRaster interfaces with GRASS GIS to process rasters and spatial vector data. It is intended as an add-on to the terra and sf packages, and relies heavily upon them. For most rasters and vectors that are small or medium-sized in memory/disk, those packages will almost always be faster. They may also be faster for very large objects.  But when they aren't, fasterRaster can step in.
Installing fasterRaster


You probably already have fasterRaster installed on your computer, but if not, you can install the latest release version from CRAN using:
install.packages(&quot;fasterRaster&quot;)

and the latest development version using:
remotes::install_github(&quot;adamlilith/fasterRaster&quot;, dependencies = TRUE)

(You may need to install the remotes package first.)



Installing GRASS GIS


fasterRaster uses GRASS to do its operations. You will need to install GRASS using the &quot;stand-alone&quot; installer, available through the GRASS GIS. Be sure to use the &quot;stand-alone&quot; installer, not the &quot;OSGeo4W&quot; installer!



Starting a fasterRaster session


I recommend attaching the data.table, terra, and sf packages before attaching fasterRaster package to avoid function conflicts. The data.table package is not required, but you most surely will use at least one of the other two.
library(data.table)
library(sf)
library(terra)
library(fasterRaster)

To begin, you need to tell fasterRaster the full file path of the folder where GRASS is installed on your system. Where this is well depend on your operating system and the version of GRASS installed.  Three examples below show you what this might look like, but you may need to change the file path to match your case:
grassDir &amp;lt;- &quot;C:/Program Files/GRASS GIS 8.3&quot; # Windows
grassDir &amp;lt;- &quot;/Applications/GRASS-8.3.app/Contents/Resources&quot; # Mac OS
grassDir &amp;lt;- &quot;/usr/local/grass&quot; # Linux

To tell fasterRaster where GRASS is installed, use the faster() function:
faster(grassDir = grassDir)

You can also use the faster() function to set options that affect how fasterRaster functions run. This includes setting the amount of maximum memory and number of computer cores allocated to operations.
In fasterRaster, rasters are called GRasters and vectors are called GVectors. The easiest (but not always fastest) way to start using a GRaster or GVector is to convert it from one already in R. In the example below, we use a raster that comes with the fasterRaster package. The raster represents elevation of a portion of eastern Madagascar. We first load the SpatRaster using fastData(), a helper function for loading example data objects that come with the fasterRaster package.
madElev &amp;lt;- fastData(&quot;madElev&quot;) # example SpatRaster
madElev

Now, we do the conversion to a GRaster and a GVector using fast(). This function can create a GRaster or GVector from a SpatRaster, a SpatVector, a sf vector, or a file representing a raster or vector.
elev &amp;lt;- fast(madElev)
elev

Converting rasters and vectors that are already in R to GRasters and GVectors takes some time. Instead, you can load a raster or vector directly from disk to a fasterRaster session using fast(). To do this, you just replace the first argument in fast() with a string representing the folder path and file name of the raster you want to load into the session. For example, you can do:
rastFile &amp;lt;- system.file(&quot;extdata&quot;, &quot;madElev.tif&quot;), package = &quot;fasterRaster&quot;)
elev2 &amp;lt;- fast(rastFile)

Now, let's create a GVector. The fast() function can take a SpatVector from the terra package, an sf object from the sf package, or a string representing the file path and file name of a vector file (e.g., a GeoPackage file or a shapefile).
madRivers &amp;lt;- fastData(&quot;madRivers&quot;) # sf vector
madRivers

rivers &amp;lt;- fast(madRivers)
rivers




Operations on GRasters and GVectors


You can do operations on these objects just like you would if they were SpatRasters, SpatVectors, and sf objects. For example, you can use mathematical operators and functions:
elev_feet &amp;lt;- elev * 3.28084
elev_feet

log10Elev &amp;lt;- log10(elev)
log10Elev

You can also use the many fasterRaster functions. In general, these functions have the same names as their terra counterparts and often the same arguments. Note that even many terra and fasterRaster functions have the same name, they do not necessarily produce the exact same output. Much care has been taken to ensure they do, but sometimes there are multiple ways to do the same task, so choices made by the authors of terra and GRASS can lead to differences.
The following code creates a a) raster where cell values reflect the distance between them and the nearest river; b) creates a buffer around the rivers; then c) plots the output:
dist &amp;lt;- distance(elev, rivers)
dist

riverBuff &amp;lt;- buffer(rivers, 10000)
riversBuff

plot(dist)
plot(rivers, col = 'blue', add = TRUE)
plot(riversBuff, add = TRUE)

And that's how you get started! Now that you have a raster and a vector in your fasterRaster &quot;location&quot;, you can start doing manipulations and analyses using any of the fasterRaster functions!  To see an annotated list of these functions, use ?fasterRaster.



Converting and saving GRasters and GVectors


You can convert a GRaster to a SpatRaster raster using rast():
terraElev &amp;lt;- rast(elev)

To convert a GVector to the terra package's SpatVector format or to an sf vector, use vect() or st_as_sf():
terraRivers &amp;lt;- vect(rivers)
sfRivers &amp;lt;- st_as_sf(rivers)

Finally, you can use writeRaster() and writeVector() to save GRasters and GVectors directly to disk. This will always be faster than using rast(), vect(), or st_as_sf() then saving the result from those functions.
elevTempFile &amp;lt;- tempfile(fileext = &quot;.tif&quot;) # save as GeoTIFF
writeRaster(elev, elevTempFile)

vectTempFile &amp;lt;- tempfile(fileext = &quot;.shp&quot;) # save as shapefile
writeVector(rivers, vectTempFile)




Tips for masking fasterRaster faster


Loading rasters and vectors directly from disk using fast(), rather than converting terra or sf objects is faster. Why? Because if the object does not have a file to which the R object points, fast() has to save it to disk first as a GeoTIFF or GeoPackage file, then load it into GRASS.
Similarly, saving GRasters and GVectors directly to disk will always be faster than converting them to SpatRasters or SpatVectors using rast() or vect(), then saving them. Why? Because rast() and vect() actually save the object to a temporary file then uses the respective function from the respective package to create the SpatRaster/SpatVector/sf` vector, which you would then proceed to save to disk again.
Every time you switch between using a GRaster or GVector with a different coordinate reference system (CRS), GRASS has to spend a few second changing to that CRS. So, you can save some time by doing as much work as possible with objects in one CRS, then switching to work on objects in another CRS.
By default, GRASS/fasterRaster use 2 cores and 2048 MB (2 GB) of memory for functions that allow users to specify these values. You can set these to higher values using faster() and thus potentially speed up some calculations. Functions in newer versions of GRASS have more capacity to use these options, so updating GRASS to the latest version can help, too.
To obviate problems with disk space filling up, by default most fasterRaster functions delete intermediate files. However, if you are not creating a lot of very big GRasters or GVectors, you can skip this time-taking step by setting the clean option to FALSE using faster(clean = FALSE). You can also use the mow() function to remove from the disk cache any GRASS files that are not associated with a GRaster or GVector in memory. This can be helpful, say, if you create a series of objects, then re-assign them using, say old_name &amp;lt;- new_object or remove them using rm(old_name). You removed them from R, but the files they pointed to are still in the GRASS cache.
Its name notwithstanding, fasterRaster is just not going to be as fast as terra or sf for all operations, even when the objects are big in memory or on disk. If you are struggling to analyze an object, you can try respective functions in the other packages.





Further reading


Robert Hijman's terra package and Edzer Pebesma's sf package are good places to start if you are not familiar with doing GIS in R.
The GRASS GIS website is authoritative and contains the manual on all the GRASS functions used in this package and more.
The Wiki on how to run GRASS in R or R in GRASS is a good place to start if you want to become a power-user of GRASS in R.
Roger Bivand's rgrass package allows users to call any GRASS function with all of its functionality, which in some cases is far beyond what is allowed by fasterRaster.



"><meta property="og:description" content="fasterRaster interfaces with GRASS GIS to process rasters and spatial vector data. It is intended as an add-on to the terra and sf packages, and relies heavily upon them. For most rasters and vectors that are small or medium-sized in memory/disk, those packages will almost always be faster. They may also be faster for very large objects.  But when they aren't, fasterRaster can step in.
Installing fasterRaster


You probably already have fasterRaster installed on your computer, but if not, you can install the latest release version from CRAN using:
install.packages(&quot;fasterRaster&quot;)

and the latest development version using:
remotes::install_github(&quot;adamlilith/fasterRaster&quot;, dependencies = TRUE)

(You may need to install the remotes package first.)



Installing GRASS GIS


fasterRaster uses GRASS to do its operations. You will need to install GRASS using the &quot;stand-alone&quot; installer, available through the GRASS GIS. Be sure to use the &quot;stand-alone&quot; installer, not the &quot;OSGeo4W&quot; installer!



Starting a fasterRaster session


I recommend attaching the data.table, terra, and sf packages before attaching fasterRaster package to avoid function conflicts. The data.table package is not required, but you most surely will use at least one of the other two.
library(data.table)
library(sf)
library(terra)
library(fasterRaster)

To begin, you need to tell fasterRaster the full file path of the folder where GRASS is installed on your system. Where this is well depend on your operating system and the version of GRASS installed.  Three examples below show you what this might look like, but you may need to change the file path to match your case:
grassDir &amp;lt;- &quot;C:/Program Files/GRASS GIS 8.3&quot; # Windows
grassDir &amp;lt;- &quot;/Applications/GRASS-8.3.app/Contents/Resources&quot; # Mac OS
grassDir &amp;lt;- &quot;/usr/local/grass&quot; # Linux

To tell fasterRaster where GRASS is installed, use the faster() function:
faster(grassDir = grassDir)

You can also use the faster() function to set options that affect how fasterRaster functions run. This includes setting the amount of maximum memory and number of computer cores allocated to operations.
In fasterRaster, rasters are called GRasters and vectors are called GVectors. The easiest (but not always fastest) way to start using a GRaster or GVector is to convert it from one already in R. In the example below, we use a raster that comes with the fasterRaster package. The raster represents elevation of a portion of eastern Madagascar. We first load the SpatRaster using fastData(), a helper function for loading example data objects that come with the fasterRaster package.
madElev &amp;lt;- fastData(&quot;madElev&quot;) # example SpatRaster
madElev

Now, we do the conversion to a GRaster and a GVector using fast(). This function can create a GRaster or GVector from a SpatRaster, a SpatVector, a sf vector, or a file representing a raster or vector.
elev &amp;lt;- fast(madElev)
elev

Converting rasters and vectors that are already in R to GRasters and GVectors takes some time. Instead, you can load a raster or vector directly from disk to a fasterRaster session using fast(). To do this, you just replace the first argument in fast() with a string representing the folder path and file name of the raster you want to load into the session. For example, you can do:
rastFile &amp;lt;- system.file(&quot;extdata&quot;, &quot;madElev.tif&quot;), package = &quot;fasterRaster&quot;)
elev2 &amp;lt;- fast(rastFile)

Now, let's create a GVector. The fast() function can take a SpatVector from the terra package, an sf object from the sf package, or a string representing the file path and file name of a vector file (e.g., a GeoPackage file or a shapefile).
madRivers &amp;lt;- fastData(&quot;madRivers&quot;) # sf vector
madRivers

rivers &amp;lt;- fast(madRivers)
rivers




Operations on GRasters and GVectors


You can do operations on these objects just like you would if they were SpatRasters, SpatVectors, and sf objects. For example, you can use mathematical operators and functions:
elev_feet &amp;lt;- elev * 3.28084
elev_feet

log10Elev &amp;lt;- log10(elev)
log10Elev

You can also use the many fasterRaster functions. In general, these functions have the same names as their terra counterparts and often the same arguments. Note that even many terra and fasterRaster functions have the same name, they do not necessarily produce the exact same output. Much care has been taken to ensure they do, but sometimes there are multiple ways to do the same task, so choices made by the authors of terra and GRASS can lead to differences.
The following code creates a a) raster where cell values reflect the distance between them and the nearest river; b) creates a buffer around the rivers; then c) plots the output:
dist &amp;lt;- distance(elev, rivers)
dist

riverBuff &amp;lt;- buffer(rivers, 10000)
riversBuff

plot(dist)
plot(rivers, col = 'blue', add = TRUE)
plot(riversBuff, add = TRUE)

And that's how you get started! Now that you have a raster and a vector in your fasterRaster &quot;location&quot;, you can start doing manipulations and analyses using any of the fasterRaster functions!  To see an annotated list of these functions, use ?fasterRaster.



Converting and saving GRasters and GVectors


You can convert a GRaster to a SpatRaster raster using rast():
terraElev &amp;lt;- rast(elev)

To convert a GVector to the terra package's SpatVector format or to an sf vector, use vect() or st_as_sf():
terraRivers &amp;lt;- vect(rivers)
sfRivers &amp;lt;- st_as_sf(rivers)

Finally, you can use writeRaster() and writeVector() to save GRasters and GVectors directly to disk. This will always be faster than using rast(), vect(), or st_as_sf() then saving the result from those functions.
elevTempFile &amp;lt;- tempfile(fileext = &quot;.tif&quot;) # save as GeoTIFF
writeRaster(elev, elevTempFile)

vectTempFile &amp;lt;- tempfile(fileext = &quot;.shp&quot;) # save as shapefile
writeVector(rivers, vectTempFile)




Tips for masking fasterRaster faster


Loading rasters and vectors directly from disk using fast(), rather than converting terra or sf objects is faster. Why? Because if the object does not have a file to which the R object points, fast() has to save it to disk first as a GeoTIFF or GeoPackage file, then load it into GRASS.
Similarly, saving GRasters and GVectors directly to disk will always be faster than converting them to SpatRasters or SpatVectors using rast() or vect(), then saving them. Why? Because rast() and vect() actually save the object to a temporary file then uses the respective function from the respective package to create the SpatRaster/SpatVector/sf` vector, which you would then proceed to save to disk again.
Every time you switch between using a GRaster or GVector with a different coordinate reference system (CRS), GRASS has to spend a few second changing to that CRS. So, you can save some time by doing as much work as possible with objects in one CRS, then switching to work on objects in another CRS.
By default, GRASS/fasterRaster use 2 cores and 2048 MB (2 GB) of memory for functions that allow users to specify these values. You can set these to higher values using faster() and thus potentially speed up some calculations. Functions in newer versions of GRASS have more capacity to use these options, so updating GRASS to the latest version can help, too.
To obviate problems with disk space filling up, by default most fasterRaster functions delete intermediate files. However, if you are not creating a lot of very big GRasters or GVectors, you can skip this time-taking step by setting the clean option to FALSE using faster(clean = FALSE). You can also use the mow() function to remove from the disk cache any GRASS files that are not associated with a GRaster or GVector in memory. This can be helpful, say, if you create a series of objects, then re-assign them using, say old_name &amp;lt;- new_object or remove them using rm(old_name). You removed them from R, but the files they pointed to are still in the GRASS cache.
Its name notwithstanding, fasterRaster is just not going to be as fast as terra or sf for all operations, even when the objects are big in memory or on disk. If you are struggling to analyze an object, you can try respective functions in the other packages.





Further reading


Robert Hijman's terra package and Edzer Pebesma's sf package are good places to start if you are not familiar with doing GIS in R.
The GRASS GIS website is authoritative and contains the manual on all the GRASS functions used in this package and more.
The Wiki on how to run GRASS in R or R in GRASS is a good place to start if you want to become a power-user of GRASS in R.
Roger Bivand's rgrass package allows users to call any GRASS function with all of its functionality, which in some cases is far beyond what is allowed by fasterRaster.



"><meta property="og:image" content="https://adamlilith.github.io/fasterRaster/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">fasterRaster</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">8.3.0.7023</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/adamlilith/fasterRaster/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Getting started with "fasterRaster"</h1>
      <small class="dont-index">Source: <a href="https://github.com/adamlilith/fasterRaster/blob/master/R/tutorial_getting_started.r" class="external-link"><code>R/tutorial_getting_started.r</code></a></small>
      <div class="d-none name"><code>tutorial_getting_started.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><strong>fasterRaster</strong> interfaces with <strong>GRASS GIS</strong> to process rasters and spatial vector data. It is intended as an add-on to the <strong>terra</strong> and <strong>sf</strong> packages, and relies heavily upon them. For most rasters and vectors that are small or medium-sized in memory/disk, those packages will almost always be faster. They may also be faster for very large objects.  But when they aren't, <strong>fasterRaster</strong> can step in.</p><div class="section">
<h3 id="installing-fasterraster">Installing <strong>fasterRaster</strong><a class="anchor" aria-label="anchor" href="#installing-fasterraster"></a></h3>


<p>You probably already have <strong>fasterRaster</strong> installed on your computer, but if not, you can install the latest release version from CRAN using:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"fasterRaster"</span>)</span></code></pre><p></p></div>
<p>and the latest development version using:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"adamlilith/fasterRaster"</span>, <span class="at">dependencies =</span> <span class="cn">TRUE</span>)</span></code></pre><p></p></div>
<p>(You may need to install the <code>remotes</code> package first.)</p>
</div>

<div class="section">
<h3 id="installing-grass-gis">Installing <strong>GRASS GIS</strong><a class="anchor" aria-label="anchor" href="#installing-grass-gis"></a></h3>


<p><strong>fasterRaster</strong> uses <strong>GRASS</strong> to do its operations. You will need to install <strong>GRASS</strong> using the "stand-alone" installer, available through the <a href="https://grass.osgeo.org/" class="external-link">GRASS GIS</a>. <em>Be sure to use the "stand-alone" installer, not the "OSGeo4W" installer!</em></p>
</div>

<div class="section">
<h3 id="starting-a-fasterraster-session">Starting a <strong>fasterRaster</strong> session<a class="anchor" aria-label="anchor" href="#starting-a-fasterraster-session"></a></h3>


<p>I recommend attaching the <strong>data.table</strong>, <strong>terra</strong>, and <strong>sf</strong> packages before attaching <strong>fasterRaster</strong> package to avoid function conflicts. The <strong>data.table</strong> package is not required, but you most surely will use at least one of the other two.</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(data.table)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="fu">library</span>(terra)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="fu">library</span>(fasterRaster)</span></code></pre><p></p></div>
<p>To begin, you need to tell <strong>fasterRaster</strong> the full file path of the folder where <strong>GRASS</strong> is installed on your system. Where this is well depend on your operating system and the version of <strong>GRASS</strong> installed.  Three examples below show you what this might look like, but you may need to change the file path to match your case:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>grassDir <span class="ot">&lt;-</span> <span class="st">"C:/Program Files/GRASS GIS 8.3"</span> <span class="co"># Windows</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>grassDir <span class="ot">&lt;-</span> <span class="st">"/Applications/GRASS-8.3.app/Contents/Resources"</span> <span class="co"># Mac OS</span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>grassDir <span class="ot">&lt;-</span> <span class="st">"/usr/local/grass"</span> <span class="co"># Linux</span></span></code></pre><p></p></div>
<p>To tell <strong>fasterRaster</strong> where <strong>GRASS</strong> is installed, use the <code><a href="faster.html">faster()</a></code> function:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">faster</span>(<span class="at">grassDir =</span> grassDir)</span></code></pre><p></p></div>
<p>You can also use the <code><a href="faster.html">faster()</a></code> function to set options that affect how <strong>fasterRaster</strong> functions run. This includes setting the amount of maximum memory and number of computer cores allocated to operations.</p>
<p>In <strong>fasterRaster</strong>, rasters are called <code>GRaster</code>s and vectors are called <code>GVector</code>s. The easiest (but not always fastest) way to start using a <code>GRaster</code> or <code>GVector</code> is to convert it from one already in <strong>R</strong>. In the example below, we use a raster that comes with the <strong>fasterRaster</strong> package. The raster represents elevation of a portion of eastern Madagascar. We first load the <code>SpatRaster</code> using <code><a href="fastData.html">fastData()</a></code>, a helper function for loading example data objects that come with the <strong>fasterRaster</strong> package.</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>madElev <span class="ot">&lt;-</span> <span class="fu">fastData</span>(<span class="st">"madElev"</span>) <span class="co"># example SpatRaster</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>madElev</span></code></pre><p></p></div>
<p>Now, we do the conversion to a <code>GRaster</code> and a <code>GVector</code> using <code><a href="fast.html">fast()</a></code>. This function can create a <code>GRaster</code> or <code>GVector</code> from a <code>SpatRaster</code>, a <code>SpatVector</code>, a <code>sf</code> vector, or a file representing a raster or vector.</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>elev <span class="ot">&lt;-</span> <span class="fu">fast</span>(madElev)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>elev</span></code></pre><p></p></div>
<p>Converting rasters and vectors that are already in <strong>R</strong> to <code>GRaster</code>s and <code>GVector</code>s takes some time. Instead, you can load a raster or vector directly from disk to a <strong>fasterRaster</strong> session using <code><a href="fast.html">fast()</a></code>. To do this, you just replace the first argument in <code><a href="fast.html">fast()</a></code> with a string representing the folder path and file name of the raster you want to load into the session. For example, you can do:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>rastFile <span class="ot">&lt;-</span> <span class="fu">system.file</span>(<span class="st">"extdata"</span>, <span class="st">"madElev.tif"</span>), package <span class="ot">=</span> <span class="st">"fasterRaster"</span><span class="er">)</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>elev2 <span class="ot">&lt;-</span> <span class="fu">fast</span>(rastFile)</span></code></pre><p></p></div>
<p>Now, let's create a <code>GVector</code>. The <code><a href="fast.html">fast()</a></code> function can take a <code>SpatVector</code> from the <strong>terra</strong> package, an <code>sf</code> object from the <strong>sf</strong> package, or a string representing the file path and file name of a vector file (e.g., a GeoPackage file or a shapefile).</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>madRivers <span class="ot">&lt;-</span> <span class="fu">fastData</span>(<span class="st">"madRivers"</span>) <span class="co"># sf vector</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>madRivers</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>rivers <span class="ot">&lt;-</span> <span class="fu">fast</span>(madRivers)</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>rivers</span></code></pre><p></p></div>
</div>

<div class="section">
<h3 id="operations-on-grasters-and-gvectors">Operations on <code>GRaster</code>s and <code>GVector</code>s<a class="anchor" aria-label="anchor" href="#operations-on-grasters-and-gvectors"></a></h3>


<p>You can do operations on these objects just like you would if they were <code>SpatRaster</code>s, <code>SpatVector</code>s, and <code>sf</code> objects. For example, you can use mathematical operators and functions:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>elev_feet <span class="ot">&lt;-</span> elev <span class="sc">*</span> <span class="fl">3.28084</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>elev_feet</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>log10Elev <span class="ot">&lt;-</span> <span class="fu">log10</span>(elev)</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>log10Elev</span></code></pre><p></p></div>
<p>You can also use the many <strong>fasterRaster</strong> functions. In general, these functions have the same names as their <strong>terra</strong> counterparts and often the same arguments. Note that even many <strong>terra</strong> and <strong>fasterRaster</strong> functions have the same name, they do not necessarily produce the exact same output. Much care has been taken to ensure they do, but sometimes there are multiple ways to do the same task, so choices made by the authors of <strong>terra</strong> and <strong>GRASS</strong> can lead to differences.</p>
<p>The following code creates a a) raster where cell values reflect the distance between them and the nearest river; b) creates a buffer around the rivers; then c) plots the output:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>dist <span class="ot">&lt;-</span> <span class="fu">distance</span>(elev, rivers)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>dist</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>riverBuff <span class="ot">&lt;-</span> <span class="fu">buffer</span>(rivers, <span class="dv">10000</span>)</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>riversBuff</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a><span class="fu">plot</span>(dist)</span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a><span class="fu">plot</span>(rivers, <span class="at">col =</span> <span class="st">'blue'</span>, <span class="at">add =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a><span class="fu">plot</span>(riversBuff, <span class="at">add =</span> <span class="cn">TRUE</span>)</span></code></pre><p></p></div>
<p>And that's how you get started! Now that you have a raster and a vector in your <strong>fasterRaster</strong> "location", you can start doing manipulations and analyses using any of the <strong>fasterRaster</strong> functions!  To see an annotated list of these functions, use <code><a href="fasterRaster.html">?fasterRaster</a></code>.</p>
</div>

<div class="section">
<h3 id="converting-and-saving-grasters-and-gvectors">Converting and saving <code>GRaster</code>s and <code>GVector</code>s<a class="anchor" aria-label="anchor" href="#converting-and-saving-grasters-and-gvectors"></a></h3>


<p>You can convert a <code>GRaster</code> to a <code>SpatRaster</code> raster using <code><a href="rast.html">rast()</a></code>:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>terraElev <span class="ot">&lt;-</span> <span class="fu">rast</span>(elev)</span></code></pre><p></p></div>
<p>To convert a <code>GVector</code> to the <strong>terra</strong> package's <code>SpatVector</code> format or to an <code>sf</code> vector, use <code><a href="vect.html">vect()</a></code> or <code><a href="vect.html">st_as_sf()</a></code>:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>terraRivers <span class="ot">&lt;-</span> <span class="fu">vect</span>(rivers)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>sfRivers <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(rivers)</span></code></pre><p></p></div>
<p>Finally, you can use <code><a href="writeRaster.html">writeRaster()</a></code> and <code><a href="writeVector.html">writeVector()</a></code> to save <code>GRaster</code>s and <code>GVector</code>s directly to disk. This will always be faster than using <code><a href="rast.html">rast()</a></code>, <code><a href="vect.html">vect()</a></code>, or <code><a href="vect.html">st_as_sf()</a></code> then saving the result from those functions.</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>elevTempFile <span class="ot">&lt;-</span> <span class="fu">tempfile</span>(<span class="at">fileext =</span> <span class="st">".tif"</span>) <span class="co"># save as GeoTIFF</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">writeRaster</span>(elev, elevTempFile)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>vectTempFile <span class="ot">&lt;-</span> <span class="fu">tempfile</span>(<span class="at">fileext =</span> <span class="st">".shp"</span>) <span class="co"># save as shapefile</span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="fu">writeVector</span>(rivers, vectTempFile)</span></code></pre><p></p></div>
</div>

<div class="section">
<h3 id="tips-for-masking-fasterraster-faster">Tips for masking <strong>fasterRaster</strong> faster<a class="anchor" aria-label="anchor" href="#tips-for-masking-fasterraster-faster"></a></h3>

<ol><li><p>Loading rasters and vectors directly from disk using <code><a href="fast.html">fast()</a></code>, rather than converting <strong>terra</strong> or <strong>sf</strong> objects is faster. Why? Because if the object does not have a file to which the <strong>R</strong> object points, <code><a href="fast.html">fast()</a></code> has to save it to disk first as a GeoTIFF or GeoPackage file, then load it into <strong>GRASS</strong>.</p></li>
<li><p>Similarly, saving <code>GRaster</code>s and <code>GVector</code>s directly to disk will always be faster than converting them to <code>SpatRaster</code>s or <code>SpatVector</code>s using <code><a href="rast.html">rast()</a></code> or <code><a href="vect.html">vect()</a></code>, then saving them. Why? Because <code><a href="rast.html">rast()</a></code> and <code>vect() actually save the object to a temporary file then uses the respective function from the respective package to create the </code>SpatRaster<code>/</code>SpatVector<code>/</code>sf` vector, which you would then proceed to save to disk again.</p></li>
<li><p>Every time you switch between using a <code>GRaster</code> or <code>GVector</code> with a different coordinate reference system (CRS), <strong>GRASS</strong> has to spend a few second changing to that CRS. So, you can save some time by doing as much work as possible with objects in one CRS, then switching to work on objects in another CRS.</p></li>
<li><p>By default, <strong>GRASS</strong>/<strong>fasterRaster</strong> use 2 cores and 2048 MB (2 GB) of memory for functions that allow users to specify these values. You can set these to higher values using <code><a href="faster.html">faster()</a></code> and thus potentially speed up some calculations. Functions in newer versions of <strong>GRASS</strong> have more capacity to use these options, so updating <strong>GRASS</strong> to the latest version can help, too.</p></li>
<li><p>To obviate problems with disk space filling up, by default most <strong>fasterRaster</strong> functions delete intermediate files. However, if you are not creating a lot of very big <code>GRaster</code>s or <code>GVector</code>s, you can skip this time-taking step by setting the <code>clean</code> option to <code>FALSE</code> using <code>faster(clean = FALSE)</code>. You can also use the <code><a href="mow.html">mow()</a></code> function to remove from the disk cache any <strong>GRASS</strong> files that are not associated with a <code>GRaster</code> or <code>GVector</code> in memory. This can be helpful, say, if you create a series of objects, then re-assign them using, say <code>old_name &lt;- new_object</code> or remove them using <code>rm(old_name)</code>. You removed them from <strong>R</strong>, but the files they pointed to are still in the <strong>GRASS</strong> cache.</p></li>
<li><p>Its name notwithstanding, <strong>fasterRaster</strong> is just not going to be as fast as <strong>terra</strong> or <strong>sf</strong> for all operations, even when the objects are big in memory or on disk. If you are struggling to analyze an object, you can try respective functions in the other packages.</p></li>
</ol></div>

<div class="section">
<h3 id="further-reading">Further reading<a class="anchor" aria-label="anchor" href="#further-reading"></a></h3>

<ul><li><p>Robert Hijman's <a href="https://cran.r-project.org/package=terra" class="external-link"><strong>terra</strong></a> package and Edzer Pebesma's <a href="https://cran.r-project.org/package=sf" class="external-link"><strong>sf</strong></a> package are good places to start if you are not familiar with doing GIS in <strong>R</strong>.</p></li>
<li><p>The <a href="https://grass.osgeo.org/" class="external-link">GRASS GIS</a> website is authoritative and contains the manual on all the <strong>GRASS</strong> functions used in this package and more.</p></li>
<li><p>The Wiki on <a href="https://grasswiki.osgeo.org/wiki/R_statistics/rgrass" class="external-link">how to run <strong>GRASS</strong> in <strong>R</strong> or <strong>R</strong> in <strong>GRASS</strong></a> is a good place to start if you want to become a power-user of <strong>GRASS</strong> in <strong>R</strong>.</p></li>
<li><p>Roger Bivand's <a href="https://cran.r-project.org/package=rgrass" class="external-link"><strong>rgrass</strong></a> package allows users to call any <strong>GRASS</strong> function with all of its functionality, which in some cases is far beyond what is allowed by <strong>fasterRaster</strong>.</p></li>
</ul></div>

    </div>



  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Adam B. Smith.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

