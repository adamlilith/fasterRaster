<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Getting started with fasterRaster • fasterRaster</title>
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting started with fasterRaster">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">fasterRaster</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">8.4.0.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/fasterRaster.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/GRasters.html">Types of GRasters</a></li>
    <li><a class="dropdown-item" href="../articles/faster_fasterRaster.html">Making fasterRaster faster</a></li>
    <li><a class="dropdown-item" href="../articles/addons.html">fasterRaster addons</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="nav-link" href="https://github.com/adamlilith/fasterRaster/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Getting started with fasterRaster</h1>
                        <h4 data-toc-skip class="author">Adam B.
Smith</h4>
            
            <h4 data-toc-skip class="date">2024-12-09</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/adamlilith/fasterRaster/blob/master/vignettes/fasterRaster.Rmd"><code>vignettes/fasterRaster.Rmd</code></a></small>
      <div class="d-none name"><code>fasterRaster.Rmd</code></div>
    </div>

    
    
<p><strong>fasterRaster</strong> interfaces with <strong>GRASS
GIS</strong> to process rasters and spatial vector data. It is intended
as an add-on to the <strong>terra</strong> and <strong>sf</strong>
packages, and relies heavily upon them. For most rasters and vectors
that are small or medium-sized in memory/disk, those packages will
almost always be faster. They may also be faster for very large objects.
But when they aren’t, <strong>fasterRaster</strong> can step in.</p>
<div class="section level3">
<h3 id="installing-fasterraster">Installing <strong>fasterRaster</strong><a class="anchor" aria-label="anchor" href="#installing-fasterraster"></a>
</h3>
<p>You probably already have <strong>fasterRaster</strong> installed on
your computer, but if not, you can install the latest release version
from CRAN using:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"fasterRaster"</span><span class="op">)</span></span></code></pre></div>
<p>and the latest development version using:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"adamlilith/fasterRaster"</span>, dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>(You may need to install the <code>remotes</code> package first.)</p>
</div>
<div class="section level3">
<h3 id="installing-grass-gis">Installing <strong>GRASS GIS</strong><a class="anchor" aria-label="anchor" href="#installing-grass-gis"></a>
</h3>
<p><strong>fasterRaster</strong> uses <strong>GRASS</strong> to do its
operations. You will need to install <strong>GRASS</strong> using the
“stand-alone” installer, available through the <a href="https://grass.osgeo.org/" class="external-link">GRASS GIS</a>. <em>Be sure to use the
“stand-alone” installer, not the “OSGeo4W” installer!</em></p>
<p>Optional: A few functions in <strong>fasterRaster</strong> require
<strong>GRASS</strong> “addon” modules, which do not come bundled with
<strong>GRASS</strong>. You do not need to install these addons if you
do not use functions that call them. A list of functions that require
addons can be seen in the “addons” vignette (in <strong>R</strong>, use
<code><a href="../articles/addons.html">vignette("addons", package = "fasterRaster")</a></code>). This
vignette also explains how to install addons.</p>
</div>
<div class="section level3">
<h3 id="starting-a-fasterraster-session">Starting a <strong>fasterRaster</strong> session<a class="anchor" aria-label="anchor" href="#starting-a-fasterraster-session"></a>
</h3>
<p>I recommend attaching the <strong>data.table</strong>,
<strong>terra</strong>, and <strong>sf</strong> packages before
attaching <strong>fasterRaster</strong> package to avoid function
conflicts. The <strong>data.table</strong> package is not required, but
you most surely will use at least one of the other two.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/" class="external-link">terra</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; terra 1.7.83</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Linking to GEOS 3.10.2, GDAL 3.4.1, PROJ 8.2.1; sf_use_s2() is TRUE</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com" class="external-link">data.table</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'data.table'</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:terra':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     shift</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/adamlilith/fasterRaster">fasterRaster</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: no DISPLAY variable so Tk is not available</span></span>
<span><span class="co">#&gt; fasterRaster 8.4.0.2</span></span>
<span><span class="co">#&gt; To avoid conflicts between functions, please attach the `terra`, `sf`,</span></span>
<span><span class="co">#&gt; and `data.table` packages before attaching `fasterRaster` using, for</span></span>
<span><span class="co">#&gt; example, `library(terra)`.</span></span>
<span><span class="co">#&gt; For guides and table of contents, see `?fasterRaster`.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'fasterRaster'</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:data.table':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     %notin%</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:sf':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     st_coordinates</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     kernel</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:graphics':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     grid</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     rbind, xor</span></span></code></pre></div>
<p>To begin, you need to tell <strong>fasterRaster</strong> the full
file path of the folder where <strong>GRASS</strong> is installed on
your system. Where this is well depend on your operating system and the
version of <strong>GRASS</strong> installed. Three examples below show
you what this might look like, but you may need to change the file path
to match your case:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">grassDir</span> <span class="op">&lt;-</span> <span class="st">"C:/Program Files/GRASS GIS 8.3"</span> <span class="co"># Windows</span></span>
<span><span class="va">grassDir</span> <span class="op">&lt;-</span> <span class="st">"/Applications/GRASS-8.3.app/Contents/Resources"</span> <span class="co"># Mac OS</span></span>
<span><span class="va">grassDir</span> <span class="op">&lt;-</span> <span class="st">"/usr/local/grass"</span> <span class="co"># Linux</span></span></code></pre></div>
<p>To tell <strong>fasterRaster</strong> where <strong>GRASS</strong> is
installed, use the <code><a href="../reference/faster.html">faster()</a></code> function:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/faster.html">faster</a></span><span class="op">(</span>grassDir <span class="op">=</span> <span class="va">grassDir</span><span class="op">)</span></span></code></pre></div>
<p>You can also use the <a href="https://adamlilith.github.io/fasterRaster/reference/faster.html" class="external-link"><code>faster()</code></a>
function to set options that affect how <strong>fasterRaster</strong>
functions run. This includes setting the amount of maximum memory and
number of computer cores allocated to operations.</p>
<p>Importantly, some <strong>fasterRaster</strong> functions require
addons (<strong>GRASS</strong> modules that are optional and are not
included with teh <strong>GRASS</strong> download). To see how to set up
addons so functions that use them can operate, see `vignette(“addons”,
package = “fasterRaster”).</p>
</div>
<div class="section level3">
<h3 id="importing-spatial-objects-into-fasterraster-grasters-and-gvectors">Importing spatial objects into <strong>fasterRaster</strong>
<code>GRaster</code>s and <code>GVector</code>s<a class="anchor" aria-label="anchor" href="#importing-spatial-objects-into-fasterraster-grasters-and-gvectors"></a>
</h3>
<p>In <strong>fasterRaster</strong>, rasters are called
<code>GRaster</code>s and vectors are called <code>GVector</code>s. The
easiest (but not always fastest) way to start using a
<code>GRaster</code> or <code>GVector</code> is to convert it from one
already in <strong>R</strong>. In the example below, we use a raster
that comes with the <strong>fasterRaster</strong> package. The raster
represents elevation of a portion of eastern Madagascar. We first load
the <code>SpatRaster</code> using <a href="https://adamlilith.github.io/fasterRaster/reference/fastData.html" class="external-link"><code>fastData()</code></a>,
a helper function for loading example data objects that come with the
<strong>fasterRaster</strong> package.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>madElev <span class="ot">&lt;-</span> <span class="fu">fastData</span>(<span class="st">"madElev"</span>) <span class="co"># example SpatRaster</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>madElev</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>class       <span class="sc">:</span> SpatRaster </span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a>dimensions  <span class="sc">:</span> <span class="dv">1024</span>, <span class="dv">626</span>, <span class="dv">1</span>  (nrow, ncol, nlyr)</span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a>resolution  <span class="sc">:</span> <span class="fl">59.85157</span>, <span class="fl">59.85157</span>  (x, y)</span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a>extent      <span class="sc">:</span> <span class="fl">731581.6</span>, <span class="fl">769048.6</span>, <span class="dv">1024437</span>, <span class="dv">1085725</span>  (xmin, xmax, ymin, ymax)</span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a>coord. ref. <span class="sc">:</span> <span class="fu">Tananarive</span> (Paris) <span class="sc">/</span> Laborde Grid </span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a>source      <span class="sc">:</span> madElev.tif </span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a>name        <span class="sc">:</span> madElev </span>
<span id="cb6-11"><a href="#cb6-11" tabindex="-1"></a>min value   <span class="sc">:</span>       <span class="dv">1</span> </span>
<span id="cb6-12"><a href="#cb6-12" tabindex="-1"></a>max value   <span class="sc">:</span>     <span class="dv">570</span></span></code></pre></div>
<p>Now, we do the conversion to a <code>GRaster</code> and a
<code>GVector</code> using <a href="https://adamlilith.github.io/fasterRaster/reference/fast.html" class="external-link"><code>fast()</code></a>.
This function can create a <code>GRaster</code> or <code>GVector</code>
from a <code>SpatRaster</code> or a file representing a raster.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>elev <span class="ot">&lt;-</span> <span class="fu">fast</span>(madElev)</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>elev</span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a>class       <span class="sc">:</span> GRaster</span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a>topology    <span class="sc">:</span> <span class="dv">2</span>D </span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a>dimensions  <span class="sc">:</span> <span class="dv">1024</span>, <span class="dv">626</span>, <span class="cn">NA</span>, <span class="dv">1</span> (nrow, ncol, ndepth, nlyr)</span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a>resolution  <span class="sc">:</span> <span class="fl">59.85157</span>, <span class="fl">59.85157</span>, <span class="cn">NA</span> (x, y, z)</span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a>extent      <span class="sc">:</span> <span class="fl">731581.552</span>, <span class="fl">769048.635</span>, <span class="fl">1024437.272</span>, <span class="fl">1085725.279</span> (xmin, xmax, ymin, ymax)</span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a>coord ref.  <span class="sc">:</span> <span class="fu">Tananarive</span> (Paris) <span class="sc">/</span> Laborde Grid </span>
<span id="cb7-10"><a href="#cb7-10" tabindex="-1"></a><span class="fu">name</span>(s)     <span class="sc">:</span> madElev </span>
<span id="cb7-11"><a href="#cb7-11" tabindex="-1"></a>datatype    <span class="sc">:</span> integer </span>
<span id="cb7-12"><a href="#cb7-12" tabindex="-1"></a>min. value  <span class="sc">:</span>       <span class="dv">1</span> </span>
<span id="cb7-13"><a href="#cb7-13" tabindex="-1"></a>max. value  <span class="sc">:</span>     <span class="dv">570</span></span></code></pre></div>
<p>Converting rasters and vectors that are already in <strong>R</strong>
to <code>GRaster</code>s usually takes more time than loading them
directly from disk. To load from disk, simply replace the first argument
in <code><a href="../reference/fast.html">fast()</a></code> with a string representing the folder path and
file name of the raster you want to load into the session. For example,
you can do:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rastFile</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"madElev.tif"</span>, package <span class="op">=</span> <span class="st">"fasterRaster"</span><span class="op">)</span></span>
<span><span class="va">elev2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fast.html">fast</a></span><span class="op">(</span><span class="va">rastFile</span><span class="op">)</span></span></code></pre></div>
<p>Now, let’s create a <code>GVector</code>. The <code><a href="../reference/fast.html">fast()</a></code>
function can take a <code>SpatVector</code> from the
<strong>terra</strong> package, an <code>sf</code> object from the
<strong>sf</strong> package, or a string representing the file path and
file name of a vector file (e.g., a GeoPackage file or a shapefile).</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>madRivers <span class="ot">&lt;-</span> <span class="fu">fastData</span>(<span class="st">"madRivers"</span>) <span class="co"># sf vector</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>madRivers</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>Simple feature collection with <span class="dv">11</span> features and <span class="dv">5</span> fields</span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a>Geometry type<span class="sc">:</span> LINESTRING</span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a>Dimension<span class="sc">:</span>     XY</span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a>Bounding box<span class="sc">:</span>  xmin<span class="sc">:</span> <span class="fl">731627.1</span> ymin<span class="sc">:</span> <span class="dv">1024541</span> xmax<span class="sc">:</span> <span class="fl">762990.1</span> ymax<span class="sc">:</span> <span class="dv">1085580</span></span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a>Projected CRS<span class="sc">:</span> <span class="fu">Tananarive</span> (Paris) <span class="sc">/</span> Laborde Grid</span>
<span id="cb9-9"><a href="#cb9-9" tabindex="-1"></a>First <span class="dv">10</span> features<span class="sc">:</span></span>
<span id="cb9-10"><a href="#cb9-10" tabindex="-1"></a>       F_CODE_DES          HYC_DESCRI      NAM ISO     NAME_0                       geometry</span>
<span id="cb9-11"><a href="#cb9-11" tabindex="-1"></a><span class="dv">1180</span> River<span class="sc">/</span>Stream Perennial<span class="sc">/</span>Permanent MANANARA MDG Madagascar <span class="fu">LINESTRING</span> (<span class="fl">739818.2</span> <span class="dv">108005</span>...</span>
<span id="cb9-12"><a href="#cb9-12" tabindex="-1"></a><span class="dv">1185</span> River<span class="sc">/</span>Stream Perennial<span class="sc">/</span>Permanent MANANARA MDG Madagascar <span class="fu">LINESTRING</span> (<span class="fl">739818.2</span> <span class="dv">108005</span>...</span>
<span id="cb9-13"><a href="#cb9-13" tabindex="-1"></a><span class="dv">1197</span> River<span class="sc">/</span>Stream Perennial<span class="sc">/</span>Permanent      UNK MDG Madagascar <span class="fu">LINESTRING</span> (<span class="fl">747857.8</span> <span class="dv">108558</span>...</span>
<span id="cb9-14"><a href="#cb9-14" tabindex="-1"></a><span class="dv">1216</span> River<span class="sc">/</span>Stream Perennial<span class="sc">/</span>Permanent      UNK MDG Madagascar <span class="fu">LINESTRING</span> (<span class="fl">739818.2</span> <span class="dv">108005</span>...</span>
<span id="cb9-15"><a href="#cb9-15" tabindex="-1"></a><span class="dv">1248</span> River<span class="sc">/</span>Stream Perennial<span class="sc">/</span>Permanent      UNK MDG Madagascar <span class="fu">LINESTRING</span> (<span class="fl">762990.1</span> <span class="dv">105737</span>...</span>
<span id="cb9-16"><a href="#cb9-16" tabindex="-1"></a><span class="dv">1256</span> River<span class="sc">/</span>Stream Perennial<span class="sc">/</span>Permanent      UNK MDG Madagascar <span class="fu">LINESTRING</span> (<span class="fl">742334.2</span> <span class="dv">106858</span>...</span>
<span id="cb9-17"><a href="#cb9-17" tabindex="-1"></a><span class="dv">1257</span> River<span class="sc">/</span>Stream Perennial<span class="sc">/</span>Permanent      UNK MDG Madagascar <span class="fu">LINESTRING</span> (<span class="fl">731803.7</span> <span class="dv">105391</span>...</span>
<span id="cb9-18"><a href="#cb9-18" tabindex="-1"></a><span class="dv">1264</span> River<span class="sc">/</span>Stream Perennial<span class="sc">/</span>Permanent      UNK MDG Madagascar <span class="fu">LINESTRING</span> (<span class="fl">755911.6</span> <span class="dv">104957</span>...</span>
<span id="cb9-19"><a href="#cb9-19" tabindex="-1"></a><span class="dv">1300</span> River<span class="sc">/</span>Stream Perennial<span class="sc">/</span>Permanent      UNK MDG Madagascar <span class="fu">LINESTRING</span> (<span class="dv">731871</span> <span class="dv">1044531</span>,...</span>
<span id="cb9-20"><a href="#cb9-20" tabindex="-1"></a><span class="dv">1312</span> River<span class="sc">/</span>Stream Perennial<span class="sc">/</span>Permanent      UNK MDG Madagascar <span class="fu">LINESTRING</span> (<span class="fl">750186.1</span> <span class="dv">103441</span>...</span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>rivers <span class="ot">&lt;-</span> <span class="fu">fast</span>(madRivers)</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>rivers</span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a>class       <span class="sc">:</span> GVector</span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a>geometry    <span class="sc">:</span> <span class="dv">2</span>D lines </span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a>dimensions  <span class="sc">:</span> <span class="dv">11</span>, <span class="dv">11</span>, <span class="dv">5</span> (geometries, sub<span class="sc">-</span>geometries, columns)</span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a>extent      <span class="sc">:</span> <span class="fl">731627.0998</span>, <span class="fl">762990.1321</span>, <span class="fl">1024541.23477</span>, <span class="fl">1085580.45359</span> (xmin, xmax, ymin, ymax)</span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a>coord ref.  <span class="sc">:</span> <span class="fu">Tananarive</span> (Paris) <span class="sc">/</span> Laborde Grid </span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a>names       <span class="sc">:</span>   F_CODE_DES      HYC_DESCRI      NAM   ISO     NAME_0 </span>
<span id="cb10-10"><a href="#cb10-10" tabindex="-1"></a>type        <span class="sc">:</span>        <span class="er">&lt;</span>chr<span class="sc">&gt;</span>           <span class="er">&lt;</span>chr<span class="sc">&gt;</span>    <span class="er">&lt;</span>chr<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>      <span class="er">&lt;</span>chr<span class="sc">&gt;</span> </span>
<span id="cb10-11"><a href="#cb10-11" tabindex="-1"></a>values      <span class="sc">:</span> River<span class="sc">/</span>Stream Perennial<span class="sc">/</span>Perm<span class="sc">~</span> MANANARA   MDG Madagascar </span>
<span id="cb10-12"><a href="#cb10-12" tabindex="-1"></a>              River<span class="sc">/</span>Stream Perennial<span class="sc">/</span>Perm<span class="sc">~</span> MANANARA   MDG Madagascar </span>
<span id="cb10-13"><a href="#cb10-13" tabindex="-1"></a>              River<span class="sc">/</span>Stream Perennial<span class="sc">/</span>Perm<span class="sc">~</span>      UNK   MDG Madagascar </span>
<span id="cb10-14"><a href="#cb10-14" tabindex="-1"></a>              (and <span class="dv">8</span> more rows) </span></code></pre></div>
</div>
<div class="section level3">
<h3 id="operations-on-grasters-and-gvectors">Operations on <code>GRaster</code>s and <code>GVector</code>s<a class="anchor" aria-label="anchor" href="#operations-on-grasters-and-gvectors"></a>
</h3>
<p>You can do operations on <code>GRaster</code>s and
<code>GVector</code>s as if they were <code>SpatRaster</code>s,
<code>SpatVector</code>s, and <code>sf</code> objects. For example, you
plot them as if the were any other spatial object:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span><span class="va">elev</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span><span class="va">rivers</span>, col <span class="op">=</span> <span class="st">'lightblue'</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<div class="float">
<img src="images%2Felev_rivers.png" alt="Elevation and rivers"><div class="figcaption">Elevation and rivers</div>
</div>
<p>You can use mathematical operators and functions:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a>elev_feet <span class="ot">&lt;-</span> elev <span class="sc">*</span> <span class="fl">3.28084</span></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a>elev_feet</span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a>class       <span class="sc">:</span> GRaster</span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a>topology    <span class="sc">:</span> <span class="dv">2</span>D </span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a>dimensions  <span class="sc">:</span> <span class="dv">1024</span>, <span class="dv">626</span>, <span class="cn">NA</span>, <span class="dv">1</span> (nrow, ncol, ndepth, nlyr)</span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a>resolution  <span class="sc">:</span> <span class="fl">59.85157</span>, <span class="fl">59.85157</span>, <span class="cn">NA</span> (x, y, z)</span>
<span id="cb12-8"><a href="#cb12-8" tabindex="-1"></a>extent      <span class="sc">:</span> <span class="fl">731581.552</span>, <span class="fl">769048.635</span>, <span class="fl">1024437.272</span>, <span class="fl">1085725.279</span> (xmin, xmax, ymin, ymax)</span>
<span id="cb12-9"><a href="#cb12-9" tabindex="-1"></a>coord ref.  <span class="sc">:</span> <span class="fu">Tananarive</span> (Paris) <span class="sc">/</span> Laborde Grid </span>
<span id="cb12-10"><a href="#cb12-10" tabindex="-1"></a><span class="fu">name</span>(s)     <span class="sc">:</span>    layer </span>
<span id="cb12-11"><a href="#cb12-11" tabindex="-1"></a>datatype    <span class="sc">:</span>   double </span>
<span id="cb12-12"><a href="#cb12-12" tabindex="-1"></a>min. value  <span class="sc">:</span>   <span class="fl">3.2808</span> </span>
<span id="cb12-13"><a href="#cb12-13" tabindex="-1"></a>max. value  <span class="sc">:</span> <span class="fl">1870.056</span></span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a>log10_elev <span class="ot">&lt;-</span> <span class="fu">log10</span>(elev)</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a>log10_elev</span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a>class       <span class="sc">:</span> GRaster</span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a>topology    <span class="sc">:</span> <span class="dv">2</span>D </span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a>dimensions  <span class="sc">:</span> <span class="dv">1024</span>, <span class="dv">626</span>, <span class="cn">NA</span>, <span class="dv">1</span> (nrow, ncol, ndepth, nlyr)</span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a>resolution  <span class="sc">:</span> <span class="fl">59.85157</span>, <span class="fl">59.85157</span>, <span class="cn">NA</span> (x, y, z)</span>
<span id="cb13-8"><a href="#cb13-8" tabindex="-1"></a>extent      <span class="sc">:</span> <span class="fl">731581.552</span>, <span class="fl">769048.635</span>, <span class="fl">1024437.272</span>, <span class="fl">1085725.279</span> (xmin, xmax, ymin, ymax)</span>
<span id="cb13-9"><a href="#cb13-9" tabindex="-1"></a>coord ref.  <span class="sc">:</span> <span class="fu">Tananarive</span> (Paris) <span class="sc">/</span> Laborde Grid </span>
<span id="cb13-10"><a href="#cb13-10" tabindex="-1"></a><span class="fu">name</span>(s)     <span class="sc">:</span>              log </span>
<span id="cb13-11"><a href="#cb13-11" tabindex="-1"></a>datatype    <span class="sc">:</span>           double </span>
<span id="cb13-12"><a href="#cb13-12" tabindex="-1"></a>min. value  <span class="sc">:</span>                <span class="dv">0</span> </span>
<span id="cb13-13"><a href="#cb13-13" tabindex="-1"></a>max. value  <span class="sc">:</span> <span class="fl">2.75587485567249</span></span></code></pre></div>
<p>You can also use the many <strong>fasterRaster</strong> functions. In
general, these functions have the same names as their
<strong>terra</strong> counterparts and often the same arguments. Note
that even many <strong>terra</strong> and <strong>fasterRaster</strong>
functions have the same name, they do not necessarily produce the exact
same output. Much care has been taken to ensure they do, but sometimes
there are multiple ways to do the same task, so choices made by the
authors of <strong>terra</strong> and <strong>GRASS</strong> can lead to
differences.</p>
<p>The following code 1) creates a raster where cell values reflect the
distance between them and the nearest river; b) makes a buffer around
the rivers; then c) plots the output:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a>dist <span class="ot">&lt;-</span> <span class="fu">distance</span>(elev, rivers)</span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a>dist</span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a>class       <span class="sc">:</span> GRaster</span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a>topology    <span class="sc">:</span> <span class="dv">2</span>D </span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a>dimensions  <span class="sc">:</span> <span class="dv">1024</span>, <span class="dv">626</span>, <span class="cn">NA</span>, <span class="dv">1</span> (nrow, ncol, ndepth, nlyr)</span>
<span id="cb14-7"><a href="#cb14-7" tabindex="-1"></a>resolution  <span class="sc">:</span> <span class="fl">59.85157</span>, <span class="fl">59.85157</span>, <span class="cn">NA</span> (x, y, z)</span>
<span id="cb14-8"><a href="#cb14-8" tabindex="-1"></a>extent      <span class="sc">:</span> <span class="fl">731581.552</span>, <span class="fl">769048.635</span>, <span class="fl">1024437.272</span>, <span class="fl">1085725.279</span> (xmin, xmax, ymin, ymax)</span>
<span id="cb14-9"><a href="#cb14-9" tabindex="-1"></a>coord ref.  <span class="sc">:</span> <span class="fu">Tananarive</span> (Paris) <span class="sc">/</span> Laborde Grid </span>
<span id="cb14-10"><a href="#cb14-10" tabindex="-1"></a><span class="fu">name</span>(s)     <span class="sc">:</span>         distance </span>
<span id="cb14-11"><a href="#cb14-11" tabindex="-1"></a>datatype    <span class="sc">:</span>           double </span>
<span id="cb14-12"><a href="#cb14-12" tabindex="-1"></a>min. value  <span class="sc">:</span>                <span class="dv">0</span> </span>
<span id="cb14-13"><a href="#cb14-13" tabindex="-1"></a>max. value  <span class="sc">:</span> <span class="fl">21310.9411762729</span> </span></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a></span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a>river_buff <span class="ot">&lt;-</span> <span class="fu">buffer</span>(rivers, <span class="dv">2000</span>)</span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a>river_buff</span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a>class       <span class="sc">:</span> GVector</span>
<span id="cb15-6"><a href="#cb15-6" tabindex="-1"></a>geometry    <span class="sc">:</span> <span class="dv">2</span>D polygons </span>
<span id="cb15-7"><a href="#cb15-7" tabindex="-1"></a>dimensions  <span class="sc">:</span> <span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">0</span> (geometries, sub<span class="sc">-</span>geometries, columns)</span>
<span id="cb15-8"><a href="#cb15-8" tabindex="-1"></a>extent      <span class="sc">:</span> <span class="fl">729629.19151</span>, <span class="fl">764989.97343</span>, <span class="fl">1022544.92079</span>, <span class="fl">1087580.24979</span> (xmin, xmax, ymin, ymax)</span>
<span id="cb15-9"><a href="#cb15-9" tabindex="-1"></a>coord ref.  <span class="sc">:</span> <span class="fu">Tananarive</span> (Paris) <span class="sc">/</span> Laborde Grid </span></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span><span class="va">dist</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span><span class="va">rivers</span>, col <span class="op">=</span> <span class="st">'lightblue'</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span><span class="va">river_buff</span>, border <span class="op">=</span> <span class="st">'white'</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<div class="float">
<img src="images%2Fdist_to_rivers.png" alt="Distance between each cell and nearest major river"><div class="figcaption">Distance between each cell and nearest major
river</div>
</div>
<p>And that’s how you get started! Now that you have a raster and a
vector in your <strong>fasterRaster</strong> “location”, you can start
doing manipulations and analyses using any of the
<strong>fasterRaster</strong> functions! To see an annotated list of
these functions, use <code><a href="../reference/fasterRaster.html">?fasterRaster</a></code>.</p>
</div>
<div class="section level3">
<h3 id="converting-and-saving-grasters-and-gvectors">Converting and saving <code>GRaster</code>s and
<code>GVector</code>s<a class="anchor" aria-label="anchor" href="#converting-and-saving-grasters-and-gvectors"></a>
</h3>
<p>You can convert a <code>GRaster</code> to a <code>SpatRaster</code>
raster using <a href="https://adamlilith.github.io/fasterRaster/reference/rast.html" class="external-link"><code>rast()</code></a>:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">terra_elev</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/rast.html">rast</a></span><span class="op">(</span><span class="va">elev</span><span class="op">)</span></span></code></pre></div>
<p>To convert a <code>GVector</code> to the <strong>terra</strong>
package’s <code>SpatVector</code> format or to an <code>sf</code>
vector, use <a href="https://adamlilith.github.io/fasterRaster/reference/vect.html" class="external-link"><code>vect()</code></a>
or <a href="https://adamlilith.github.io/fasterRaster/reference/st_as_sf.html" class="external-link"><code>st_as_sf()</code></a>:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">terra_rivers</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/vect.html">vect</a></span><span class="op">(</span><span class="va">rivers</span><span class="op">)</span></span>
<span><span class="va">sf_rivers</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/vect.html">st_as_sf</a></span><span class="op">(</span><span class="va">rivers</span><span class="op">)</span></span></code></pre></div>
<p>Finally, you can use <a href="https://adamlilith.github.io/fasterRaster/reference/writeRaster.html" class="external-link"><code>writeRaster()</code></a>
and <a href="https://adamlilith.github.io/fasterRaster/reference/writeVector.html" class="external-link"><code>writeVector()</code></a>
to save <code>GRaster</code>s and <code>GVector</code>s directly to
disk. This will always be faster than using <code><a href="../reference/rast.html">rast()</a></code>,
<code><a href="../reference/vect.html">vect()</a></code>, or <code><a href="../reference/vect.html">st_as_sf()</a></code> then saving the result
from those functions.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">elev_temp_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>fileext <span class="op">=</span> <span class="st">".tif"</span><span class="op">)</span> <span class="co"># save as GeoTIFF</span></span>
<span><span class="fu"><a href="../reference/writeRaster.html">writeRaster</a></span><span class="op">(</span><span class="va">elev</span>, <span class="va">elev_temp_file</span><span class="op">)</span></span>
<span></span>
<span><span class="va">vect_temp_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>fileext <span class="op">=</span> <span class="st">".shp"</span><span class="op">)</span> <span class="co"># save as shapefile</span></span>
<span><span class="fu"><a href="../reference/writeVector.html">writeVector</a></span><span class="op">(</span><span class="va">rivers</span>, <span class="va">vect_temp_file</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="known-issues">Known issues<a class="anchor" aria-label="anchor" href="#known-issues"></a>
</h2>
<ul>
<li><p>Comparability between <strong>terra</strong> and
<strong>fasterRaster</strong>: As much as possible,
<strong>fasterRaster</strong> functions were written to recreate the
output that functions in <strong>terra</strong> produce. However, owing
to implementation choices made by the respective developers of
<strong>terra</strong> and <strong>GRASS</strong>, outputs are not
always the same.</p></li>
<li><p><strong>fasterRaster</strong> can crash when the temporary folder
is cleaned: Some operating systems have automated procedures that clean
out the system’s temporary folders when they get too large. This can
remove files <strong>GRASS</strong> is using and
<strong>fasterRaster</strong> is pointing to, rendering them broken. In
Windows, this setting can be changed by going to <code>Settings</code>,
then <code>Storage</code>, then <code>Storage Sense</code>. Turn off the
setting “Keep Windows running smoothly by automatically cleaning up
temporary system and app files”.</p></li>
<li><p>Disk space fills up: As counter to the previous issue, prolonged
use of <strong>fasterRaster</strong> by the same <strong>R</strong>
process can create a lot of temporary files in the
<strong>GRASS</strong> cache that fills your hard drive.
<strong>fasterRaster</strong> does its best to remove these files when
they are not needed. However, temporary files can still accumulate. For
example, the operation <code>new_raster &lt;- 2 * old_raster^3</code>
creates a raster file with the <code>^3</code> operation, which is then
multiplied by 2 to get the desired output. But the raster from the
<code>^3</code> operation is still left in the disk cache, even though
it does not have a “name” in <strong>R</strong>. Judicious use of the <a href="https://adamlilith.github.io/fasterRaster/reference/mow.html" class="external-link"><code>mow()</code></a>
function can remove these temporary files.</p></li>
</ul>
<p>~ FINIS ~</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Adam B. Smith.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
